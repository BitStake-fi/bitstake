(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[7],{Xjx0:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return ae}));var r=n("kB5k"),a=n.n(r),i=n("mrSG"),o=n("k+Dj"),s=n("Z3mj"),u=n("FVpm"),c=(n("wDBh"),n("mNvP"),n("TYpD")),p=n("vDqi"),l=n.n(p);function d(e,t,n,r,a,i,o){try{var s=e[i](o),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,a)}function y(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){d(i,r,a,o,s,"next",e)}function s(e){d(i,r,a,o,s,"throw",e)}o(void 0)}))}}function m(){return(m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function f(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function b(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}var T=a.a.clone({DECIMAL_PLACES:0,ROUNDING_MODE:a.a.ROUND_DOWN});function g(e){return new a.a(e)}function h(e){return new T(e)}var v=new a.a(10),O={};function E(e){return O[e]||(O[e]=v.pow(e)),O[e]}function A(e,t){return w(e,t).toString(10)}function w(e,t){return g(e).dividedBy(E(t))}var x,S=h(10).pow(27),D=S.dividedBy(2),j=h(10).pow(9);function C(e,t){return D.plus(h(e).multipliedBy(t)).div(S)}function R(e,t){return h(t).div(2).plus(h(e).multipliedBy(S)).div(t)}function _(e){return h(j).div(2).plus(e).div(j)}function P(e){return h(e).multipliedBy(j).decimalPlaces(0)}function N(e,t){var n=h(e),r=h(t);if(r.eq(0))return S;var a=r.minus(1),i=r.gt(2)?r.minus(2):0,o=C(n,n),s=C(o,n),u=r.multipliedBy(n),c=r.multipliedBy(a).multipliedBy(o).div(2),p=r.multipliedBy(a).multipliedBy(i).multipliedBy(s).div(6);return S.plus(u).plus(c).plus(p)}!function(e){e.None="None",e.Stable="Stable",e.Variable="Variable"}(x||(x={}));var k=g("31536000"),I=18,L=10,B=27;function V(e,t,n){var r=h(t-n);return N(h(e).dividedBy(k),r)}function M(e,t,n,r){if(h(e).eq("0"))return h(t);var a=function(e,t,n){return C(e,R(P(h(t-n)),P(k))).plus(S)}(e,r,n);return C(a,t)}function G(e,t,n){return g(t).eq(0)?g("-1"):g(e).multipliedBy(n).dividedBy(E(4)).div(t)}function H(e,t,n,r){return g(t).dividedBy(e).minus("1").dividedBy(r-n).multipliedBy(k).toString()}function U(e,t,n,r){var a=h(e).multipliedBy(t).dividedBy(E(n)),i=a.multipliedBy(E(L)).dividedBy(r).toFixed(0);return[a.toString(),i]}function F(e,t,n,r,a){var i=e.price.priceInEth,o=e.decimals,s=function(e,t,n,r,a){return _(C(P(e),M(n,t,r,a)))}(t.scaledATokenBalance,e.liquidityIndex,e.liquidityRate,e.lastUpdateTimestamp,r).toString(),u=U(s,i,o,n),c=u[0],p=u[1],l=function(e,t,n,r,a){var i=h(e);if(i.eq("0"))return i;var o=C(V(n,a,r),t);return _(C(P(i),o))}(t.scaledVariableDebt,e.variableBorrowIndex,e.variableBorrowRate,e.lastUpdateTimestamp,r).toString(),d=U(l,i,o,n),y=d[0],f=d[1],b=function(e,t,n,r){var a=h(e);if(a.eq("0"))return a;var i=V(t,r,n);return _(C(P(a),i))}(t.principalStableDebt,t.stableBorrowRate,t.stableBorrowLastUpdateTimestamp,r).toString(),T=U(b,i,o,n),g=T[0],v=T[1],O=Y({totalScaledVariableDebt:e.totalScaledVariableDebt,variableBorrowIndex:e.variableBorrowIndex,variableBorrowRate:e.variableBorrowRate,totalPrincipalStableDebt:e.totalPrincipalStableDebt,averageStableRate:e.averageStableRate,availableLiquidity:e.availableLiquidity,stableDebtLastUpdateTimestamp:e.stableDebtLastUpdateTimestamp,lastUpdateTimestamp:e.lastUpdateTimestamp},r),E=O.totalLiquidity,A=O.totalStableDebt,w=O.totalVariableDebt,x=E.gt(0)?Q(s,e.aTokenIncentivesIndex,t.aTokenincentivesUserIndex,a.incentivePrecision,a.rewardTokenDecimals,e.aIncentivesLastUpdateTimestamp,e.aEmissionPerSecond,E,r,a.emissionEndTimestamp):"0",S=U(x,a.rewardTokenPriceEth,a.rewardTokenDecimals,n),D=S[0],j=S[1],R=w.gt(0)?Q(l,e.vTokenIncentivesIndex,t.vTokenincentivesUserIndex,a.incentivePrecision,a.rewardTokenDecimals,e.vIncentivesLastUpdateTimestamp,e.vEmissionPerSecond,w,r,a.emissionEndTimestamp):"0",N=U(R,a.rewardTokenPriceEth,a.rewardTokenDecimals,n),k=N[0],I=N[1],L=A.gt(0)?Q(b,e.sTokenIncentivesIndex,t.sTokenincentivesUserIndex,a.incentivePrecision,a.rewardTokenDecimals,e.sIncentivesLastUpdateTimestamp,e.sEmissionPerSecond,A,r,a.emissionEndTimestamp):"0",B=U(L,a.rewardTokenPriceEth,a.rewardTokenDecimals,n),G=B[0],H=B[1];return m({},t,{underlyingBalance:s,underlyingBalanceETH:c,underlyingBalanceUSD:p,variableBorrows:l,variableBorrowsETH:y,variableBorrowsUSD:f,stableBorrows:b,stableBorrowsETH:g,stableBorrowsUSD:v,totalBorrows:h(l).plus(b).toString(),totalBorrowsETH:h(y).plus(g).toString(),totalBorrowsUSD:h(f).plus(v).toString(),aTokenRewards:x,aTokenRewardsETH:D,aTokenRewardsUSD:j,vTokenRewards:R,vTokenRewardsETH:k,vTokenRewardsUSD:I,sTokenRewards:L,sTokenRewardsETH:G,sTokenRewardsUSD:H,totalRewards:h(x).plus(R).plus(L).toString(),totalRewardsETH:h(D).plus(k).plus(G).toString(),totalRewardsUSD:h(j).plus(I).plus(H).toString()})}function K(e,t,n,r,i,o){var s=h("0"),u=h("0"),c=h("0"),p=g("0"),l=g("0"),d=g("0"),y=g("0"),m=g("0"),f=t.map((function(t){var n=e.find((function(e){return e.id===t.reserve.id}));if(!n)throw new Error("Reserve is not registered on platform, please contact support");var a=F(n,t,r,i,o);return d=d.plus(a.totalRewards),y=y.plus(a.totalRewardsETH),m=m.plus(a.totalRewardsUSD),s=s.plus(a.underlyingBalanceETH),c=c.plus(a.variableBorrowsETH).plus(a.stableBorrowsETH),n.usageAsCollateralEnabled&&t.usageAsCollateralEnabledOnUser&&(u=u.plus(a.underlyingBalanceETH),p=p.plus(g(a.underlyingBalanceETH).multipliedBy(n.baseLTVasCollateral)),l=l.plus(g(a.underlyingBalanceETH).multipliedBy(n.reserveLiquidationThreshold))),a})).sort((function(e,t){return e.reserve.symbol>t.reserve.symbol?1:e.reserve.symbol<t.reserve.symbol?-1:0}));p.gt(0)&&(p=p.div(u).decimalPlaces(0,a.a.ROUND_DOWN)),l.gt(0)&&(l=l.div(u).decimalPlaces(0,a.a.ROUND_DOWN));var b=G(u,c,l),T=u.multipliedBy(E(L)).dividedBy(r).toString(),v=s.multipliedBy(E(L)).dividedBy(r).toString(),O=c.multipliedBy(E(L)).dividedBy(r).toString(),A=function(e,t,n){if(h(n).eq(0))return h("0");var r=h(e).multipliedBy(n).dividedBy(E(4)).minus(t);return r.gt("0")?r:h("0")}(u,c,p);return{totalLiquidityUSD:v,totalCollateralUSD:T,totalBorrowsUSD:O,totalRewards:d.toString(),totalRewardsETH:y.toString(),totalRewardsUSD:m.toString(),id:n,totalLiquidityETH:s.toString(),totalCollateralETH:u.toString(),totalBorrowsETH:c.toString(),availableBorrowsETH:A.toString(),currentLoanToValue:p.toString(),currentLiquidationThreshold:l.toString(),healthFactor:b.toString(),reservesData:f}}function W(e,t){return{totalVariableDebt:A(C(C(e.totalScaledVariableDebt,e.variableBorrowIndex),V(e.variableBorrowRate,t,e.lastUpdateTimestamp)),e.decimals),totalStableDebt:A(C(e.totalPrincipalStableDebt,V(e.averageStableRate,t,e.stableDebtLastUpdateTimestamp)),e.decimals)}}function q(e,t){return{totalVariableDebt:C(C(e.totalScaledVariableDebt,e.variableBorrowIndex),V(e.variableBorrowRate,t,e.lastUpdateTimestamp)),totalStableDebt:C(e.totalPrincipalStableDebt,V(e.averageStableRate,t,e.stableDebtLastUpdateTimestamp))}}function Y(e,t){var n=q(e,t),r=n.totalVariableDebt,a=n.totalStableDebt,i=r.plus(a);return{totalVariableDebt:r,totalStableDebt:a,totalLiquidity:i.plus(e.availableLiquidity)}}function X(e,t,n,r){var a=w(e,I).multipliedBy(t).multipliedBy(k),i=g(n).multipliedBy(r);return a.dividedBy(i).toString(10)}function Q(e,t,n,r,a,i,o,s,u,c){var p,l=(u>c?c:u)-i;return p=i==+u||i>=c?h(t):h(o).multipliedBy(l).multipliedBy(E(r)).dividedBy(s).plus(t),A(h(e).multipliedBy(p.minus(n)).dividedBy(E(r)),a)}var z,J,Z,$,ee,te,ne,re,ae={__proto__:null,getEthAndUsdBalance:U,computeUserReserveData:F,computeRawUserSummaryData:K,formatUserSummaryData:function(e,t,n,r,a,i){var o=K(e,t,n,r,a,i),s=o.reservesData.map((function(e){var t=e.reserve,n=b(e,["reserve"]),r=t.decimals;return m({},n,{reserve:m({},t,{reserveLiquidationBonus:A(g(t.reserveLiquidationBonus).minus(E(4)),4),liquidityRate:A(t.liquidityRate,B)}),scaledATokenBalance:A(n.scaledATokenBalance,r),stableBorrowRate:A(n.stableBorrowRate,B),variableBorrowIndex:A(n.variableBorrowIndex,B),underlyingBalance:A(n.underlyingBalance,r),underlyingBalanceETH:A(n.underlyingBalanceETH,I),underlyingBalanceUSD:A(n.underlyingBalanceUSD,L),stableBorrows:A(n.stableBorrows,r),stableBorrowsETH:A(n.stableBorrowsETH,I),stableBorrowsUSD:A(n.stableBorrowsUSD,L),variableBorrows:A(n.variableBorrows,r),variableBorrowsETH:A(n.variableBorrowsETH,I),variableBorrowsUSD:A(n.variableBorrowsUSD,L),totalBorrows:A(n.totalBorrows,r),totalBorrowsETH:A(n.totalBorrowsETH,I),totalBorrowsUSD:A(n.totalBorrowsUSD,L)})}));return{id:o.id,reservesData:s,totalLiquidityETH:A(o.totalLiquidityETH,I),totalLiquidityUSD:A(o.totalLiquidityUSD,L),totalCollateralETH:A(o.totalCollateralETH,I),totalCollateralUSD:A(o.totalCollateralUSD,L),totalBorrowsETH:A(o.totalBorrowsETH,I),totalBorrowsUSD:A(o.totalBorrowsUSD,L),availableBorrowsETH:A(o.availableBorrowsETH,I),currentLoanToValue:A(o.currentLoanToValue,4),currentLiquidationThreshold:A(o.currentLiquidationThreshold,4),healthFactor:o.healthFactor,totalRewards:o.totalRewards,totalRewardsETH:o.totalRewardsETH,totalRewardsUSD:o.totalRewardsUSD}},calculateReserveDebt:W,formatReserves:function(e,t,n,r,a){return void 0===r&&(r="0"),e.map((function(e){var i,o,s=null==n||null==(i=n.find((function(t){return t.id===e.id})))||null==(o=i.paramsHistory)?void 0:o[0],u=A(e.availableLiquidity,e.decimals),c=W(e,t||e.lastUpdateTimestamp),p=c.totalVariableDebt,l=c.totalStableDebt,d=g(l).plus(p),y=d.plus(u).toString(),f="0"!==y?d.dividedBy(y).toString():"0",b=a&&a>(t||Math.floor(Date.now()/1e3)),T=b&&"0"!==y?X(e.aEmissionPerSecond,r,y,e.price.priceInEth):"0",h=b&&"0"!==p?X(e.vEmissionPerSecond,r,p,e.price.priceInEth):"0",v=b&&"0"!==l?X(e.sEmissionPerSecond,r,l,e.price.priceInEth):"0";return m({},e,{totalVariableDebt:p,totalStableDebt:l,totalLiquidity:y,availableLiquidity:u,utilizationRate:f,aIncentivesAPY:T,vIncentivesAPY:h,sIncentivesAPY:v,totalDebt:d.toString(),price:m({},e.price,{priceInEth:A(e.price.priceInEth,I)}),baseLTVasCollateral:A(e.baseLTVasCollateral,4),reserveFactor:A(e.reserveFactor,4),variableBorrowRate:A(e.variableBorrowRate,B),avg30DaysVariableBorrowRate:s?H(s.variableBorrowIndex,e.variableBorrowIndex,s.timestamp,e.lastUpdateTimestamp):void 0,avg30DaysLiquidityRate:s?H(s.liquidityIndex,e.liquidityIndex,s.timestamp,e.lastUpdateTimestamp):void 0,stableBorrowRate:A(e.stableBorrowRate,B),liquidityRate:A(e.liquidityRate,B),liquidityIndex:A(e.liquidityIndex,B),reserveLiquidationThreshold:A(e.reserveLiquidationThreshold,4),reserveLiquidationBonus:A(g(e.reserveLiquidationBonus).minus(Math.pow(10,4)),4),totalScaledVariableDebt:A(e.totalScaledVariableDebt,e.decimals),totalPrincipalStableDebt:A(e.totalPrincipalStableDebt,e.decimals),variableBorrowIndex:A(e.variableBorrowIndex,B)})}))},calculateReserveDebtSuppliesRaw:q,calculateSupplies:Y,calculateIncentivesAPY:X,calculateRewards:Q};!function(e){e.None="None",e.Stable="Stable",e.Variable="Variable"}(z||(z={})),function(e){e.Proto="proto",e.AMM="amm"}(J||(J={})),function(e){e.mainnet="mainnet",e.ropsten="ropsten",e.kovan="kovan",e.polygon="polygon",e.fork="fork",e.mumbai="mumbai",e.polygon_fork="polygon_fork"}(Z||(Z={})),function(e){e[e.mainnet=1]="mainnet",e[e.ropsten=3]="ropsten",e[e.kovan=42]="kovan",e[e.polygon=137]="polygon",e[e.fork=1337]="fork",e[e.mumbai=80001]="mumbai",e[e.polygon_fork=1338]="polygon_fork"}($||($={})),function(e){e.ERC20_APPROVAL="ERC20_APPROVAL",e.DLP_ACTION="DLP_ACTION",e.GOVERNANCE_ACTION="GOVERNANCE_ACTION",e.GOV_DELEGATION_ACTION="GOV_DELEGATION_ACTION",e.STAKE_ACTION="STAKE_ACTION",e.MIGRATION_LEND_AAVE="MIGRATION_LEND_AAVE",e.FAUCET_MINT="FAUCET_MINT",e.REWARD_ACTION="REWARD_ACTION"}(ee||(ee={})),function(e){e.default="default",e.withdraw="withdraw",e.deposit="deposit",e.liquidationCall="liquidationCall",e.liquidationFlash="liquidationFlash",e.repay="repay",e.swapCollateral="swapCollateral",e.repayCollateral="repayCollateral",e.withdrawETH="withdrawETH",e.borrowETH="borrwoETH"}(te||(te={})),function(e){e[e.Abstain=0]="Abstain",e[e.Yes=1]="Yes",e[e.No=2]="No"}(ne||(ne={})),function(e){e.Aave="Aave",e.Balancer="Balancer"}(re||(re={}));var ie,oe,se,ue,ce,pe,le,de,ye,me,fe,be=function(e,t){return e(t={exports:{}},t.exports),t.exports}((function(e){var t=function(e){var t,n=Object.prototype,r=n.hasOwnProperty,a="function"===typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",o=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function u(e,t,n,r){var a=t&&t.prototype instanceof f?t:f,i=Object.create(a.prototype),o=new D(r||[]);return i._invoke=function(e,t,n){var r=p;return function(a,i){if(r===d)throw new Error("Generator is already running");if(r===y){if("throw"===a)throw i;return C()}for(n.method=a,n.arg=i;;){var o=n.delegate;if(o){var s=w(o,n);if(s){if(s===m)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===p)throw r=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=d;var u=c(e,t,n);if("normal"===u.type){if(r=n.done?y:l,u.arg===m)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r=y,n.method="throw",n.arg=u.arg)}}}(e,n,o),i}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(r){return{type:"throw",arg:r}}}e.wrap=u;var p="suspendedStart",l="suspendedYield",d="executing",y="completed",m={};function f(){}function b(){}function T(){}var g={};g[i]=function(){return this};var h=Object.getPrototypeOf,v=h&&h(h(j([])));v&&v!==n&&r.call(v,i)&&(g=v);var O=T.prototype=f.prototype=Object.create(g);function E(e){["next","throw","return"].forEach((function(t){e[t]=function(e){return this._invoke(t,e)}}))}function A(e){function t(n,a,i,o){var s=c(e[n],e,a);if("throw"!==s.type){var u=s.arg,p=u.value;return p&&"object"===typeof p&&r.call(p,"__await")?Promise.resolve(p.__await).then((function(e){t("next",e,i,o)}),(function(e){t("throw",e,i,o)})):Promise.resolve(p).then((function(e){u.value=e,i(u)}),(function(e){return t("throw",e,i,o)}))}o(s.arg)}var n;this._invoke=function(e,r){function a(){return new Promise((function(n,a){t(e,r,n,a)}))}return n=n?n.then(a,a):a()}}function w(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,w(e,n),"throw"===n.method))return m;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var a=c(r,e.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,m;var i=a.arg;return i?i.done?(n[e.resultName]=i.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,m):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function D(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function j(e){if(e){var n=e[i];if(n)return n.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var a=-1,o=function n(){for(;++a<e.length;)if(r.call(e,a))return n.value=e[a],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}return{next:C}}function C(){return{value:t,done:!0}}return b.prototype=O.constructor=T,T.constructor=b,T[s]=b.displayName="GeneratorFunction",e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,T):(e.__proto__=T,s in e||(e[s]="GeneratorFunction")),e.prototype=Object.create(O),e},e.awrap=function(e){return{__await:e}},E(A.prototype),A.prototype[o]=function(){return this},e.AsyncIterator=A,e.async=function(t,n,r,a){var i=new A(u(t,n,r,a));return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},E(O),O[s]="Generator",O[i]=function(){return this},O.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=j,D.prototype={constructor:D,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(S),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function a(r,a){return s.type="throw",s.arg=e,n.next=r,a&&(n.method="next",n.arg=t),!!a}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],s=o.completion;if("root"===o.tryLoc)return a("end");if(o.tryLoc<=this.prev){var u=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(u&&c){if(this.prev<o.catchLoc)return a(o.catchLoc,!0);if(this.prev<o.finallyLoc)return a(o.finallyLoc)}else if(u){if(this.prev<o.catchLoc)return a(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return a(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var i=a;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;S(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:j(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),m}},e}(e.exports);try{regeneratorRuntime=t}catch(n){Function("r","regeneratorRuntime = r")(t)}})),Te=((ie={})[Z.kovan]={SYNTHETIX_PROXY_ADDRESS:"",GOVERNANCE_PROTO_CONTRACT:"0x8134929c3dcb1b8b82f27f53424b959fb82182f2",LEND_TO_AAVE_MIGRATOR:"0x8cC8965FEf45a448bdbe3C749683b280eF2E17Ea",WETH_GATEWAY:"0xA61ca04DF33B72b235a8A28CfB535bb7A5271B70",FAUCET:"0x600103d518cC5E8f3319D532eB4e5C268D32e604",SWAP_COLLATERAL_ADAPTER:"0xC18451d36aA370fDACe8d45839bF975F48f7AEa1",REPAY_WITH_COLLATERAL_ADAPTER:"0xf86Be05f535EC2d217E4c6116B3fa147ee5C05A1",FLASHLIQUIDATION:"0x9D50F0b23b1805773f607F0B4678d724322B7AC2",INCENTIVES_CONTROLLER:"",INCENTIVES_CONTROLLER_REWARD_TOKEN:""},ie[Z.ropsten]={SYNTHETIX_PROXY_ADDRESS:"",GOVERNANCE_PROTO_CONTRACT:"",LEND_TO_AAVE_MIGRATOR:"",WETH_GATEWAY:"",FAUCET:"0xcCB8f5183065AF6C40d3A13ae669FB8F92A11C05",SWAP_COLLATERAL_ADAPTER:"",REPAY_WITH_COLLATERAL_ADAPTER:"",FLASHLIQUIDATION:"",INCENTIVES_CONTROLLER:"",INCENTIVES_CONTROLLER_REWARD_TOKEN:""},ie[Z.mainnet]={SYNTHETIX_PROXY_ADDRESS:"0xc011a73ee8576fb46f5e1c5751ca3b9fe0af2a6f",GOVERNANCE_PROTO_CONTRACT:"0x8a2efd9a790199f4c94c6effe210fce0b4724f52",LEND_TO_AAVE_MIGRATOR:"0x317625234562b1526ea2fac4030ea499c5291de4",WETH_GATEWAY:"0xcc9a0B7c43DC2a5F023Bb9b738E45B0Ef6B06E04",FAUCET:"",SWAP_COLLATERAL_ADAPTER:"0x135896DE8421be2ec868E0b811006171D9df802A",REPAY_WITH_COLLATERAL_ADAPTER:"0x498c5431eb517101582988fbb36431ddaac8f4b1",FLASHLIQUIDATION:"0xE377fB98512D7b04827e56BC84e1838804a8019D",INCENTIVES_CONTROLLER:"0xd784927Ff2f95ba542BfC824c8a8a98F3495f6b5",INCENTIVES_CONTROLLER_REWARD_TOKEN:"0x4da27a545c0c5b758a6ba100e3a049001de870f5"},ie[Z.polygon]={SYNTHETIX_PROXY_ADDRESS:"",GOVERNANCE_PROTO_CONTRACT:"",LEND_TO_AAVE_MIGRATOR:"",WETH_GATEWAY:"0xbEadf48d62aCC944a06EEaE0A9054A90E5A7dc97",FAUCET:"",SWAP_COLLATERAL_ADAPTER:"",REPAY_WITH_COLLATERAL_ADAPTER:"",FLASHLIQUIDATION:"",INCENTIVES_CONTROLLER:"0x357d51124f59836ded84c8a1730d72b749d8bc23",INCENTIVES_CONTROLLER_REWARD_TOKEN:"0x0d500b1d8e8ef31e21c99d1db9a6444d3adf1270"},ie[Z.mumbai]={SYNTHETIX_PROXY_ADDRESS:"",GOVERNANCE_PROTO_CONTRACT:"",LEND_TO_AAVE_MIGRATOR:"",WETH_GATEWAY:"0xee9eE614Ad26963bEc1Bec0D2c92879ae1F209fA",FAUCET:"",SWAP_COLLATERAL_ADAPTER:"",REPAY_WITH_COLLATERAL_ADAPTER:"",FLASHLIQUIDATION:"",INCENTIVES_CONTROLLER:"0xd41aE58e803Edf4304334acCE4DC4Ec34a63C644",INCENTIVES_CONTROLLER_REWARD_TOKEN:"0x9c3c9283d3e44854697cd22d3faa240cfb032889"},ie),ge=((ue={})[J.Proto]=((oe={})[Z.kovan]={LENDINGPOOL_ADDRESS:"0xE0fBa4Fc209b4948668006B2bE61711b7f465bAe"},oe[Z.ropsten]={LENDINGPOOL_ADDRESS:""},oe[Z.mainnet]={LENDINGPOOL_ADDRESS:"0x7d2768dE32b0b80b7a3454c06BdAc94A69DDc7A9"},oe[Z.polygon]={LENDINGPOOL_ADDRESS:"0x8dFf5E27EA6b7AC08EbFdf9eB090F32ee9a30fcf"},oe[Z.mumbai]={LENDINGPOOL_ADDRESS:"0x9198F13B08E299d85E096929fA9781A1E3d5d827"},oe),ue[J.AMM]=((se={})[Z.kovan]={LENDINGPOOL_ADDRESS:"0x762E2a3BBe729240ea44D31D5a81EAB44d34ef01"},se[Z.ropsten]={LENDINGPOOL_ADDRESS:""},se[Z.mainnet]={LENDINGPOOL_ADDRESS:"0x7937d4799803fbbe595ed57278bc4ca21f3bffcb"},se),ue),he=((ce={})[Z.kovan]={AAVE_GOVERNANCE_V2:"0xc2eBaB3Bac8f2f5028f5C7317027A41EBFCa31D2",AAVE_GOVERNANCE_V2_EXECUTOR_SHORT:"0x462eD5dc919BE6C96639D5f31ab919EBA8F31831",AAVE_GOVERNANCE_V2_EXECUTOR_LONG:"0x7e5195b0A6a60b371Ba3276032CF6958eADFA652",AAVE_GOVERNANCE_V2_HELPER:"0xffd5BEb5712952FC9a9DDC7499487422B29Fdda6"},ce[Z.ropsten]={AAVE_GOVERNANCE_V2:"",AAVE_GOVERNANCE_V2_EXECUTOR_SHORT:"",AAVE_GOVERNANCE_V2_EXECUTOR_LONG:"",AAVE_GOVERNANCE_V2_HELPER:""},ce[Z.mainnet]={AAVE_GOVERNANCE_V2:"0xEC568fffba86c094cf06b22134B23074DFE2252c",AAVE_GOVERNANCE_V2_EXECUTOR_SHORT:"0x61910EcD7e8e942136CE7Fe7943f956cea1CC2f7",AAVE_GOVERNANCE_V2_EXECUTOR_LONG:"0xEE56e2B3D491590B5b31738cC34d5232F378a8D5",AAVE_GOVERNANCE_V2_HELPER:"0x16ff7583ea21055bf5f929ec4b896d997ff35847"},ce[Z.polygon]={AAVE_GOVERNANCE_V2:"",AAVE_GOVERNANCE_V2_EXECUTOR_SHORT:"",AAVE_GOVERNANCE_V2_EXECUTOR_LONG:"",AAVE_GOVERNANCE_V2_HELPER:""},ce[Z.mumbai]={AAVE_GOVERNANCE_V2:"",AAVE_GOVERNANCE_V2_EXECUTOR_SHORT:"",AAVE_GOVERNANCE_V2_EXECUTOR_LONG:"",AAVE_GOVERNANCE_V2_HELPER:""},ce),ve=o.a.from(0).toHexString(),Oe=o.a.from("1000000"),Ee=s.constants.MaxUint256.toString(),Ae="115792089237316195423570985008687907853269984665640564039457584007913129639935",we="0xEeeeeEeeeEeEeeEeEeEeeEEEeeeeEeeeeeeeEEeE",xe="0.1",Se="0.05",De=((pe={})[te.default]={limit:"210000",recommended:"210000"},pe[te.deposit]={limit:"300000",recommended:"300000"},pe[te.withdraw]={limit:"230000",recommended:"300000"},pe[te.liquidationCall]={limit:"700000",recommended:"700000"},pe[te.liquidationFlash]={limit:"995000",recommended:"995000"},pe[te.repay]={limit:"300000",recommended:"300000"},pe[te.borrowETH]={limit:"450000",recommended:"450000"},pe[te.withdrawETH]={limit:"640000",recommended:"640000"},pe[te.swapCollateral]={limit:"700000",recommended:"700000"},pe[te.repayCollateral]={limit:"700000",recommended:"700000"},pe),je=((ye={})[re.Aave]=((le={})[Z.kovan]={canUsePermit:!0,TOKEN_STAKING_ADDRESS:"0xf2fbf9A6710AfDa1c4AaB2E922DE9D69E0C97fd2",STAKING_REWARD_TOKEN_ADDRESS:"0xb597cd8d3217ea6477232f9217fa70837ff667af",STAKING_HELPER_ADDRESS:"0xf267aCc8BF1D8b41c89b6dc1a0aD8439dfbc890c"},le[Z.ropsten]={canUsePermit:!1,TOKEN_STAKING_ADDRESS:"",STAKING_REWARD_TOKEN_ADDRESS:"",STAKING_HELPER_ADDRESS:""},le[Z.mainnet]={canUsePermit:!0,TOKEN_STAKING_ADDRESS:"0x4da27a545c0c5b758a6ba100e3a049001de870f5",STAKING_REWARD_TOKEN_ADDRESS:"0x7fc66500c84a76ad7e9c93437bfc5ac33e2ddae9",STAKING_HELPER_ADDRESS:"0xce0424653fb2fd48ed1b621bdbd60db16b2e388a"},le[Z.polygon]={canUsePermit:!1,TOKEN_STAKING_ADDRESS:"",STAKING_REWARD_TOKEN_ADDRESS:"",STAKING_HELPER_ADDRESS:""},le[Z.mumbai]={canUsePermit:!1,TOKEN_STAKING_ADDRESS:"",STAKING_REWARD_TOKEN_ADDRESS:"",STAKING_HELPER_ADDRESS:""},le),ye[re.Balancer]=((de={})[Z.kovan]={canUsePermit:!1,TOKEN_STAKING_ADDRESS:"0x31ce45Ab6E26C72c47C52c27498D460099545ef2",STAKING_REWARD_TOKEN_ADDRESS:"0xb597cd8d3217ea6477232f9217fa70837ff667af",STAKING_HELPER_ADDRESS:""},de[Z.ropsten]={canUsePermit:!1,TOKEN_STAKING_ADDRESS:"",STAKING_REWARD_TOKEN_ADDRESS:"",STAKING_HELPER_ADDRESS:""},de[Z.mainnet]={canUsePermit:!1,TOKEN_STAKING_ADDRESS:"0xa1116930326D21fB917d5A27F1E9943A9595fb47",STAKING_REWARD_TOKEN_ADDRESS:"0x7fc66500c84a76ad7e9c93437bfc5ac33e2ddae9",STAKING_HELPER_ADDRESS:""},de[Z.polygon]={canUsePermit:!1,TOKEN_STAKING_ADDRESS:"",STAKING_REWARD_TOKEN_ADDRESS:"",STAKING_HELPER_ADDRESS:""},de[Z.mumbai]={canUsePermit:!1,TOKEN_STAKING_ADDRESS:"",STAKING_REWARD_TOKEN_ADDRESS:"",STAKING_HELPER_ADDRESS:""},de),ye),Ce={staking:(me={},me[re.Balancer]=[Z.kovan,Z.mainnet],me[re.Aave]=[Z.kovan,Z.mainnet],me),lendingPool:(fe={},fe[J.Proto]=[Z.kovan,Z.mainnet,Z.polygon,Z.mumbai],fe[J.AMM]=[Z.kovan,Z.mainnet],fe),governance:[Z.kovan,Z.mainnet],wethGateway:[Z.kovan,Z.mainnet,Z.polygon,Z.mumbai],faucet:[Z.kovan],liquiditySwapAdapter:[Z.kovan,Z.mainnet],repayWithCollateralAdapter:[Z.kovan,Z.mainnet],aaveGovernanceV2:[Z.kovan,Z.mainnet],ltaMigrator:[Z.kovan,Z.mainnet],incentivesController:[Z.polygon,Z.mumbai,Z.mainnet]},Re=function(){function e(){}return e.connect=function(e,t){return new u.b(e,_e,t)},e}(),_e=[{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"executor",type:"address"}],name:"ExecutorAuthorized",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"executor",type:"address"}],name:"ExecutorUnauthorized",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"newStrategy",type:"address"},{indexed:!0,internalType:"address",name:"initiatorChange",type:"address"}],name:"GovernanceStrategyChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"id",type:"uint256"}],name:"ProposalCanceled",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"id",type:"uint256"},{indexed:!0,internalType:"address",name:"creator",type:"address"},{indexed:!0,internalType:"contract IExecutorWithTimelock",name:"executor",type:"address"},{indexed:!1,internalType:"address[]",name:"targets",type:"address[]"},{indexed:!1,internalType:"uint256[]",name:"values",type:"uint256[]"},{indexed:!1,internalType:"string[]",name:"signatures",type:"string[]"},{indexed:!1,internalType:"bytes[]",name:"calldatas",type:"bytes[]"},{indexed:!1,internalType:"bool[]",name:"withDelegatecalls",type:"bool[]"},{indexed:!1,internalType:"uint256",name:"startBlock",type:"uint256"},{indexed:!1,internalType:"uint256",name:"endBlock",type:"uint256"},{indexed:!1,internalType:"address",name:"strategy",type:"address"},{indexed:!1,internalType:"bytes32",name:"ipfsHash",type:"bytes32"}],name:"ProposalCreated",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"id",type:"uint256"},{indexed:!0,internalType:"address",name:"initiatorExecution",type:"address"}],name:"ProposalExecuted",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"id",type:"uint256"},{indexed:!1,internalType:"uint256",name:"executionTime",type:"uint256"},{indexed:!0,internalType:"address",name:"initiatorQueueing",type:"address"}],name:"ProposalQueued",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"id",type:"uint256"},{indexed:!0,internalType:"address",name:"voter",type:"address"},{indexed:!1,internalType:"bool",name:"support",type:"bool"},{indexed:!1,internalType:"uint256",name:"votingPower",type:"uint256"}],name:"VoteEmitted",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"newVotingDelay",type:"uint256"},{indexed:!0,internalType:"address",name:"initiatorChange",type:"address"}],name:"VotingDelayChanged",type:"event"},{inputs:[],name:"__abdicate",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address[]",name:"executors",type:"address[]"}],name:"authorizeExecutors",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"proposalId",type:"uint256"}],name:"cancel",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"contract IExecutorWithTimelock",name:"executor",type:"address"},{internalType:"address[]",name:"targets",type:"address[]"},{internalType:"uint256[]",name:"values",type:"uint256[]"},{internalType:"string[]",name:"signatures",type:"string[]"},{internalType:"bytes[]",name:"calldatas",type:"bytes[]"},{internalType:"bool[]",name:"withDelegatecalls",type:"bool[]"},{internalType:"bytes32",name:"ipfsHash",type:"bytes32"}],name:"create",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"proposalId",type:"uint256"}],name:"execute",outputs:[],stateMutability:"payable",type:"function"},{inputs:[],name:"getGovernanceStrategy",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getGuardian",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"proposalId",type:"uint256"}],name:"getProposalById",outputs:[{components:[{internalType:"uint256",name:"id",type:"uint256"},{internalType:"address",name:"creator",type:"address"},{internalType:"contract IExecutorWithTimelock",name:"executor",type:"address"},{internalType:"address[]",name:"targets",type:"address[]"},{internalType:"uint256[]",name:"values",type:"uint256[]"},{internalType:"string[]",name:"signatures",type:"string[]"},{internalType:"bytes[]",name:"calldatas",type:"bytes[]"},{internalType:"bool[]",name:"withDelegatecalls",type:"bool[]"},{internalType:"uint256",name:"startBlock",type:"uint256"},{internalType:"uint256",name:"endBlock",type:"uint256"},{internalType:"uint256",name:"executionTime",type:"uint256"},{internalType:"uint256",name:"forVotes",type:"uint256"},{internalType:"uint256",name:"againstVotes",type:"uint256"},{internalType:"bool",name:"executed",type:"bool"},{internalType:"bool",name:"canceled",type:"bool"},{internalType:"address",name:"strategy",type:"address"},{internalType:"bytes32",name:"ipfsHash",type:"bytes32"}],internalType:"struct IAaveGovernanceV2.ProposalWithoutVotes",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"proposalId",type:"uint256"}],name:"getProposalState",outputs:[{internalType:"enum IAaveGovernanceV2.ProposalState",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[],name:"getProposalsCount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"proposalId",type:"uint256"},{internalType:"address",name:"voter",type:"address"}],name:"getVoteOnProposal",outputs:[{components:[{internalType:"bool",name:"support",type:"bool"},{internalType:"uint248",name:"votingPower",type:"uint248"}],internalType:"struct IAaveGovernanceV2.Vote",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[],name:"getVotingDelay",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"executor",type:"address"}],name:"isExecutorAuthorized",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"proposalId",type:"uint256"}],name:"queue",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"governanceStrategy",type:"address"}],name:"setGovernanceStrategy",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"votingDelay",type:"uint256"}],name:"setVotingDelay",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"proposalId",type:"uint256"},{internalType:"bool",name:"support",type:"bool"}],name:"submitVote",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"proposalId",type:"uint256"},{internalType:"bool",name:"support",type:"bool"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"submitVoteBySignature",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address[]",name:"executors",type:"address[]"}],name:"unauthorizeExecutors",outputs:[],stateMutability:"nonpayable",type:"function"}],Pe=function(){function e(){}return e.connect=function(e,t){return new u.b(e,Ne,t)},e}(),Ne=[{inputs:[{internalType:"address[]",name:"assets",type:"address[]"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"address",name:"to",type:"address"}],name:"claimRewards",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"}],ke=function(){function e(){}return e.connect=function(e,t){return new u.b(e,Ie,t)},e}(),Ie=[{inputs:[{internalType:"address",name:"user",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"stake",outputs:[],stateMutability:"nonpayable",type:"function"}],Le=function(){function e(){}return e.connect=function(e,t){return new u.b(e,Be,t)},e}(),Be=[{inputs:[{internalType:"address",name:"_token",type:"address"}],name:"getMinter",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_token",type:"address"},{internalType:"uint256",name:"_amount",type:"uint256"}],name:"mint",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"payable",type:"function"}],Ve=function(){function e(){}return e.connect=function(e,t){return new u.b(e,Me,t)},e}(),Me=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"delegator",type:"address"},{indexed:!0,internalType:"address",name:"delegatee",type:"address"},{indexed:!1,internalType:"enum IGovernancePowerDelegationToken.DelegationType",name:"delegationType",type:"uint8"}],name:"DelegateChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!1,internalType:"enum IGovernancePowerDelegationToken.DelegationType",name:"delegationType",type:"uint8"}],name:"DelegatedPowerChanged",type:"event"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"_nonces",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"delegatee",type:"address"}],name:"delegate",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"delegatee",type:"address"},{internalType:"uint256",name:"nonce",type:"uint256"},{internalType:"uint256",name:"expiry",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"delegateBySig",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"delegatee",type:"address"},{internalType:"enum IGovernancePowerDelegationToken.DelegationType",name:"delegationType",type:"uint8"}],name:"delegateByType",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"delegatee",type:"address"},{internalType:"enum IGovernancePowerDelegationToken.DelegationType",name:"delegationType",type:"uint8"},{internalType:"uint256",name:"nonce",type:"uint256"},{internalType:"uint256",name:"expiry",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"delegateByTypeBySig",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"delegator",type:"address"},{internalType:"enum IGovernancePowerDelegationToken.DelegationType",name:"delegationType",type:"uint8"}],name:"getDelegateeByType",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"},{internalType:"uint256",name:"blockNumber",type:"uint256"},{internalType:"enum IGovernancePowerDelegationToken.DelegationType",name:"delegationType",type:"uint8"}],name:"getPowerAtBlock",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"},{internalType:"enum IGovernancePowerDelegationToken.DelegationType",name:"delegationType",type:"uint8"}],name:"getPowerCurrent",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"blockNumber",type:"uint256"}],name:"totalSupplyAt",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"}],Ge=function(){function e(){}return e.connect=function(e,t){return new u.b(e,He,t)},e}(),He=[{inputs:[],name:"AAVE",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"STK_AAVE",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"},{internalType:"uint256",name:"blockNumber",type:"uint256"}],name:"getPropositionPowerAt",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"blockNumber",type:"uint256"}],name:"getTotalPropositionSupplyAt",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"blockNumber",type:"uint256"}],name:"getTotalVotingSupplyAt",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"},{internalType:"uint256",name:"blockNumber",type:"uint256"}],name:"getVotingPowerAt",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"}],Ue=function(){function e(){}return e.connect=function(e,t){return new u.b(e,Fe,t)},e}(),Fe=[{inputs:[{internalType:"uint256",name:"id",type:"uint256"},{internalType:"contract IAaveGovernanceV2",name:"governance",type:"address"}],name:"getProposal",outputs:[{components:[{internalType:"uint256",name:"totalVotingSupply",type:"uint256"},{internalType:"uint256",name:"minimumQuorum",type:"uint256"},{internalType:"uint256",name:"minimumDiff",type:"uint256"},{internalType:"uint256",name:"executionTimeWithGracePeriod",type:"uint256"},{internalType:"uint256",name:"proposalCreated",type:"uint256"},{internalType:"uint256",name:"id",type:"uint256"},{internalType:"address",name:"creator",type:"address"},{internalType:"contract IExecutorWithTimelock",name:"executor",type:"address"},{internalType:"address[]",name:"targets",type:"address[]"},{internalType:"uint256[]",name:"values",type:"uint256[]"},{internalType:"string[]",name:"signatures",type:"string[]"},{internalType:"bytes[]",name:"calldatas",type:"bytes[]"},{internalType:"bool[]",name:"withDelegatecalls",type:"bool[]"},{internalType:"uint256",name:"startBlock",type:"uint256"},{internalType:"uint256",name:"endBlock",type:"uint256"},{internalType:"uint256",name:"executionTime",type:"uint256"},{internalType:"uint256",name:"forVotes",type:"uint256"},{internalType:"uint256",name:"againstVotes",type:"uint256"},{internalType:"bool",name:"executed",type:"bool"},{internalType:"bool",name:"canceled",type:"bool"},{internalType:"address",name:"strategy",type:"address"},{internalType:"bytes32",name:"ipfsHash",type:"bytes32"},{internalType:"enum IAaveGovernanceV2.ProposalState",name:"proposalState",type:"uint8"}],internalType:"struct IGovernanceV2Helper.ProposalStats",name:"proposalStats",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"skip",type:"uint256"},{internalType:"uint256",name:"limit",type:"uint256"},{internalType:"contract IAaveGovernanceV2",name:"governance",type:"address"}],name:"getProposals",outputs:[{components:[{internalType:"uint256",name:"totalVotingSupply",type:"uint256"},{internalType:"uint256",name:"minimumQuorum",type:"uint256"},{internalType:"uint256",name:"minimumDiff",type:"uint256"},{internalType:"uint256",name:"executionTimeWithGracePeriod",type:"uint256"},{internalType:"uint256",name:"proposalCreated",type:"uint256"},{internalType:"uint256",name:"id",type:"uint256"},{internalType:"address",name:"creator",type:"address"},{internalType:"contract IExecutorWithTimelock",name:"executor",type:"address"},{internalType:"address[]",name:"targets",type:"address[]"},{internalType:"uint256[]",name:"values",type:"uint256[]"},{internalType:"string[]",name:"signatures",type:"string[]"},{internalType:"bytes[]",name:"calldatas",type:"bytes[]"},{internalType:"bool[]",name:"withDelegatecalls",type:"bool[]"},{internalType:"uint256",name:"startBlock",type:"uint256"},{internalType:"uint256",name:"endBlock",type:"uint256"},{internalType:"uint256",name:"executionTime",type:"uint256"},{internalType:"uint256",name:"forVotes",type:"uint256"},{internalType:"uint256",name:"againstVotes",type:"uint256"},{internalType:"bool",name:"executed",type:"bool"},{internalType:"bool",name:"canceled",type:"bool"},{internalType:"address",name:"strategy",type:"address"},{internalType:"bytes32",name:"ipfsHash",type:"bytes32"},{internalType:"enum IAaveGovernanceV2.ProposalState",name:"proposalState",type:"uint8"}],internalType:"struct IGovernanceV2Helper.ProposalStats[]",name:"proposalsStats",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"},{internalType:"address[]",name:"tokens",type:"address[]"}],name:"getTokensPower",outputs:[{components:[{internalType:"uint256",name:"votingPower",type:"uint256"},{internalType:"address",name:"delegatedAddressVotingPower",type:"address"},{internalType:"uint256",name:"propositionPower",type:"uint256"},{internalType:"address",name:"delegatedAddressPropositionPower",type:"address"}],internalType:"struct IGovernanceV2Helper.Power[]",name:"power",type:"tuple[]"}],stateMutability:"view",type:"function"}],Ke=function(){function e(){}return e.connect=function(e,t){return new u.b(e,We,t)},e}(),We=[{inputs:[],name:"FLASHLOAN_PREMIUM_TOTAL",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"reserve",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"interestRateMode",type:"uint256"},{internalType:"uint16",name:"referralCode",type:"uint16"},{internalType:"address",name:"onBehalfOf",type:"address"}],name:"borrow",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"reserve",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"address",name:"onBehalfOf",type:"address"},{internalType:"uint16",name:"referralCode",type:"uint16"}],name:"deposit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"receiver",type:"address"},{internalType:"address[]",name:"assets",type:"address[]"},{internalType:"uint256[]",name:"amounts",type:"uint256[]"},{internalType:"uint256[]",name:"modes",type:"uint256[]"},{internalType:"address",name:"onBehalfOf",type:"address"},{internalType:"bytes",name:"params",type:"bytes"},{internalType:"uint16",name:"referralCode",type:"uint16"}],name:"flashLoan",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"collateral",type:"address"},{internalType:"address",name:"reserve",type:"address"},{internalType:"address",name:"user",type:"address"},{internalType:"uint256",name:"purchaseAmount",type:"uint256"},{internalType:"bool",name:"receiveAToken",type:"bool"}],name:"liquidationCall",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"reserve",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"rateMode",type:"uint256"},{internalType:"address",name:"onBehalfOf",type:"address"}],name:"repay",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"reserve",type:"address"},{internalType:"bool",name:"useAsCollateral",type:"bool"}],name:"setUserUseReserveAsCollateral",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"reserve",type:"address"},{internalType:"uint256",name:"rateMode",type:"uint256"}],name:"swapBorrowRateMode",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"reserve",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"address",name:"to",type:"address"}],name:"withdraw",outputs:[],stateMutability:"nonpayable",type:"function"}],qe=function(){function e(){}return e.connect=function(e,t){return new u.b(e,Ye,t)},e}(),Ye=[{inputs:[],name:"LEND",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"amount",type:"uint256"}],name:"migrateFromLEND",outputs:[],stateMutability:"nonpayable",type:"function"}],Xe=function(){function e(){}return e.connect=function(e,t){return new u.b(e,Qe,t)},e}(),Qe=[{inputs:[],name:"isEthRequired",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"address",name:"_token",type:"address"},{internalType:"uint256",name:"_amount",type:"uint256"}],name:"mint",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"payable",type:"function"}],ze=function(){function e(){}return e.connect=function(e,t){return new u.b(e,Je,t)},e}(),Je=[{inputs:[{internalType:"address",name:"collateralAsset",type:"address"},{internalType:"address",name:"debtAsset",type:"address"},{internalType:"uint256",name:"collateralAmount",type:"uint256"},{internalType:"uint256",name:"debtRepayAmount",type:"uint256"},{internalType:"uint256",name:"debtRateMode",type:"uint256"},{components:[{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],internalType:"struct IRepayWithCollateral.PermitSignature",name:"permitSignature",type:"tuple"},{internalType:"bool",name:"useEthPath",type:"bool"}],name:"swapAndRepay",outputs:[],stateMutability:"nonpayable",type:"function"}],Ze=function(){function e(){}return e.connect=function(e,t){return new u.b(e,$e,t)},e}(),$e=[{inputs:[],name:"REWARD_TOKEN",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"STAKED_TOKEN",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"claimRewards",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"cooldown",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"redeem",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"onBehalfOf",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"stake",outputs:[],stateMutability:"nonpayable",type:"function"}],et=function(){function e(){}return e.connect=function(e,t){return new u.b(e,tt,t)},e}(),tt=[{inputs:[{internalType:"address",name:"assetToSwapFrom",type:"address"},{internalType:"address",name:"assetToSwapTo",type:"address"},{internalType:"uint256",name:"amountToSwap",type:"uint256"},{internalType:"uint256",name:"minAmountToReceive",type:"uint256"},{internalType:"uint256",name:"swapAllBalanceOffset",type:"uint256"},{internalType:"bytes",name:"swapCalldata",type:"bytes"},{internalType:"address",name:"augustus",type:"address"},{components:[{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],internalType:"struct IParaSwapLiquiditySwapAdapter.PermitSignature",name:"permitParams",type:"tuple"}],name:"swapAndDeposit",outputs:[],stateMutability:"nonpayable",type:"function"}],nt=function(){function e(){}return e.connect=function(e,t){return new u.b(e,rt,t)},e}(),rt=[{inputs:[{internalType:"address",name:"lendingPool",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"interesRateMode",type:"uint256"},{internalType:"uint16",name:"referralCode",type:"uint16"}],name:"borrowETH",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"lendingPool",type:"address"},{internalType:"address",name:"onBehalfOf",type:"address"},{internalType:"uint16",name:"referralCode",type:"uint16"}],name:"depositETH",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"lendingPool",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"rateMode",type:"uint256"},{internalType:"address",name:"onBehalfOf",type:"address"}],name:"repayETH",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"lendingPool",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"address",name:"onBehalfOf",type:"address"}],name:"withdrawETH",outputs:[],stateMutability:"nonpayable",type:"function"}],at=function(e,t){return new a.a(e).multipliedBy(new a.a(10).pow(t)).toFixed(0)},it=function(e,t){return e.toLowerCase()===we.toLowerCase()?t:ve},ot={AAVE:at("100",18),BAT:at("100000",18),BUSD:at("10000",18),DAI:at("10000",18),ENJ:at("100000",18),KNC:at("10000",18),LEND:at("1000",18),LINK:at("1000",18),MANA:at("100000",18),MKR:at("10",18),REN:at("10000",18),REP:at("1000",18),SNX:at("100",18),SUSD:at("10000",18),TUSD:"0",UNI:at("1000",18),USDC:at("10000",6),USDT:at("10000",6),WBTC:at("1",8),YFI:at("1",18),ZRX:at("100000",18),UNIUSDC:at(xe,6),UNIDAI:at(xe,18),UNIUSDT:at(xe,6),UNIDAIETH:at(xe,18),UNIUSDCETH:at(xe,18),UNISETHETH:at(xe,18),UNILENDETH:at(xe,18),UNILINKETH:at(xe,18),UNIMKRETH:at(xe,18)},st=function(e){return e.toLowerCase().endsWith(".eth")},ut=Symbol("ethAddress"),ct=Symbol("ethOrENSAddress"),pt=Symbol("isPositive"),lt=Symbol("isPositiveOrMinusOne"),dt=Symbol("is0OrPositiveMetadataKey"),yt=Symbol("Optional");function mt(e){return function(t,n,r){var a=Reflect.getOwnMetadata(ut,t,n)||[];a.push({index:r,field:e}),Reflect.defineMetadata(ut,a,t,n)}}function ft(e){return function(t,n,r){var a=Reflect.getOwnMetadata(ct,t,n)||[];a.push({index:r,field:e}),Reflect.defineMetadata(ct,a,t,n)}}function bt(e){return function(t,n,r){var a=Reflect.getOwnMetadata(pt,t,n)||[];a.push({index:r,field:e}),Reflect.defineMetadata(pt,a,t,n)}}function Tt(e){return function(t,n,r){var a=Reflect.getOwnMetadata(dt,t,n)||[];a.push({index:r,field:e}),Reflect.defineMetadata(dt,a,t,n)}}function gt(e){return function(t,n,r){var a=Reflect.getOwnMetadata(lt,t,n)||[];a.push({index:r,field:e}),Reflect.defineMetadata(lt,a,t,n)}}function ht(e,t,n){var r=Reflect.getOwnMetadata(yt,e,t),a=[];return r&&r.forEach((function(e){null==n[e]&&(a[e]=!0)})),a}function vt(e,t,n,r){var a=Reflect.getOwnMetadata(ut,e,t);a&&a.forEach((function(e){if(e.field){if(n[0][e.field]&&!s.utils.isAddress(n[0][e.field]))throw new Error("Address: "+n[0][e.field]+" is not a valid ethereum Address")}else{var t=r&&r[e.index];if(n[e.index]&&!t&&!s.utils.isAddress(n[e.index]))throw new Error("Address: "+n[e.index]+" is not a valid ethereum Address")}}))}function Ot(e,t,n,r){var a=Reflect.getOwnMetadata(ct,e,t);a&&a.forEach((function(e){if(e.field){if(n[0][e.field]&&!s.utils.isAddress(n[0][e.field])&&!st(n[0][e.field]))throw new Error("Address "+n[0][e.field]+" is not valid ENS format or a valid ethereum Address")}else{var t=r&&r[e.index];if(n[e.index]&&!t&&!s.utils.isAddress(n[e.index])&&!st(n[e.index]))throw new Error("Address "+n[e.index]+" is not valid ENS format or a valid ethereum Address")}}))}function Et(e,t,n,r){var a=Reflect.getOwnMetadata(pt,e,t);a&&a.forEach((function(e){if(e.field){if(n[0][e.field]&&!(Number(n[0][e.field])>0))throw new Error("Amount: "+n[0][e.field]+" needs to be greater than 0")}else if(!(r&&r[e.index])&&!(Number(n[e.index])>0))throw new Error("Amount: "+n[e.index]+" needs to be greater than 0")}))}function At(e,t,n,r){var a=Reflect.getOwnMetadata(dt,e,t);a&&a.forEach((function(e){if(e.field){if(n[0][e.field]&&!(Number(n[0][e.field])>=0))throw new Error("Amount: "+n[0][e.field]+" needs to be greater than 0")}else if(!(r&&r[e.index])&&!(Number(n[e.index])>=0))throw new Error("Amount: "+n[e.index]+" needs to be greater than 0")}))}function wt(e,t,n,r){var a=Reflect.getOwnMetadata(lt,e,t);a&&a.forEach((function(e){if(e.field){if(n[0][e.field]&&!(Number(n[0][e.field])>0||"-1"===n[0][e.field]))throw new Error("Amount: "+n[0][e.field]+" needs to be greater than 0 or -1")}else if(!(r&&r[e.index])&&!(Number(n[e.index])>0||"-1"===n[e.index]))throw new Error("Amount: "+n[e.index]+" needs to be greater than 0 or -1")}))}function xt(e,t,n){var r=n.value;n.value=function(){var n=this.config.network,a=Ce.lendingPool[this.market];return-1===a.indexOf(n)?[]:(vt(e,t,arguments),Et(e,t,arguments),wt(e,t,arguments),null==r?void 0:r.apply(this,arguments))}}function St(e,t,n){var r=n.value;n.value=function(){var n=this.config.network,a=Ce.staking[this.tokenStake];if(-1===a.indexOf(n))return[];var i=ht(e,t,arguments);return vt(e,t,arguments,i),Et(e,t,arguments,i),null==r?void 0:r.apply(this,arguments)}}function Dt(e,t,n){var r=n.value;n.value=function(){var n=this.config.network,a=Ce.wethGateway;return-1===a.indexOf(n)?[]:(vt(e,t,arguments),Et(e,t,arguments),wt(e,t,arguments),null==r?void 0:r.apply(this,arguments))}}function jt(e,t,n){var r=n.value;n.value=function(){var n=this.config.network,a=Ce.aaveGovernanceV2;return-1===a.indexOf(n)?[]:(vt(e,t,arguments),At(e,t,arguments),null==r?void 0:r.apply(this,arguments))}}function Ct(e,t,n){var r=n.value;n.value=function(){var n=this.config.network,a=Ce.aaveGovernanceV2;return-1===a.indexOf(n)?[]:(vt(e,t,arguments),Ot(e,t,arguments),Et(e,t,arguments),At(e,t,arguments),null==r?void 0:r.apply(this,arguments))}}var Rt=function(){var e=y(be.mark((function e(t,n,r){var a;return be.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.provider.estimateGas(t);case 2:if(a=e.sent,n.network!==Z.polygon){e.next=6;break}return e.abrupt("return",Oe);case 6:return e.abrupt("return",a.add(a.mul(r||30).div(100)));case 7:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),_t=function(){var e=y(be.mark((function e(t){var n;return be.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.provider.getGasPrice();case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Pt=function(e,t){var n=this;this.getContractInstance=function(e){if(!n.contractInstances[e]){var t=n.config.provider;n.contractInstances[e]=n.contractFactory.connect(e,t)}return n.contractInstances[e]},this.generateTxCallback=function(e){var t=e.rawTxMethod,r=e.from,a=e.value,i=e.gasSurplus,s=e.action;return y(be.mark((function e(){var u,c;return be.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t();case 2:return u=e.sent,c=m({},u,{from:r,value:a||ve}),e.next=6,Rt(c,n.config,i);case 6:return c.gasLimit=e.sent,s&&De[s]&&c.gasLimit.lte(o.a.from(De[s].limit))&&(c.gasLimit=o.a.from(De[s].recommended)),e.abrupt("return",c);case 9:case"end":return e.stop()}}),e)})))},this.generateTxPriceEstimation=function(e,t,r){return void 0===r&&(r=te.default),function(){var a=y(be.mark((function a(i){var o,s,u,c;return be.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return void 0===i&&(i=!1),a.prev=1,a.next=4,_t(n.config);case 4:if(o=a.sent,e.find((function(e){return e.txType===ee.ERC20_APPROVAL}))&&!i){a.next=15;break}return a.next=9,t();case 9:if(s=a.sent,u=s.gasLimit,c=s.gasPrice,u){a.next=14;break}throw new Error("Transaction calculation error");case 14:return a.abrupt("return",{gasLimit:u.toString(),gasPrice:c?c.toString():o.toString()});case 15:return a.abrupt("return",{gasLimit:De[r].recommended,gasPrice:o.toString()});case 18:return a.prev=18,a.t0=a.catch(1),console.error("Calculate error on calculate estimation gas price.",a.t0),a.abrupt("return",null);case 22:case"end":return a.stop()}}),a,null,[[1,18]])})));return function(e){return a.apply(this,arguments)}}()},this.config=e,this.contractFactory=t,this.contractInstances={}};function Nt(e){switch(e.slice(0,10)){case"0xda8567c8":return 100;case"0x58b9d179":return 4;case"0x0863b7ac":case"0x8f00eccb":case"0xec1d21dd":return 68;default:throw new Error("Unrecognized function selector for Augustus")}}var kt=function(e){function t(t){var n;n=e.call(this,t,et)||this;var r=Te[n.config.network].SWAP_COLLATERAL_ADAPTER;return n.liquiditySwapAdapterAddress=r,n}return f(t,e),t.prototype.swapAndDeposit=function(e){var t=e.user,n=e.assetToSwapFrom,r=e.assetToSwapTo,a=e.amountToSwap,i=e.minAmountToReceive,o=e.permitParams,s=e.augustus,u=e.swapCallData,c=e.swapAll,p=this.getContractInstance(this.liquiditySwapAdapterAddress),l=this.generateTxCallback({rawTxMethod:function(){return p.populateTransaction.swapAndDeposit(n,r,a,i,c?Nt(u):0,u,s,o)},from:t});return{tx:l,txType:ee.DLP_ACTION,gas:this.generateTxPriceEstimation([],l)}},t}(Pt);Object(i.b)([function(e,t,n){var r=n.value;n.value=function(){var n=this.config.network,a=Ce.liquiditySwapAdapter;return-1===a.indexOf(n)?[]:(vt(e,t,arguments),Et(e,t,arguments),wt(e,t,arguments),null==r?void 0:r.apply(this,arguments))}},Object(i.e)(0,mt("user")),Object(i.e)(0,mt("assetToSwapFrom")),Object(i.e)(0,mt("assetToSwapTo")),Object(i.e)(0,mt("augustus")),Object(i.e)(0,bt("amountToSwap")),Object(i.e)(0,bt("minAmountToReceive")),Object(i.d)("design:type",Function),Object(i.d)("design:paramtypes",[Object]),Object(i.d)("design:returntype",Object)],kt.prototype,"swapAndDeposit",null);var It=function(e,t,n,r,a,i,o,u,c,p){return s.utils.defaultAbiCoder.encode(["address","uint256","uint256","bytes","address","tuple(uint256,uint256,uint8,bytes32,bytes32)"],[e,t,n,r,a,[i,o,u,c,p]])},Lt=function(e){function t(t,n,r,a,i,o,s){var u;(u=e.call(this,t,Ke)||this).erc20Service=n,u.synthetixService=r,u.wethGatewayService=a,u.liquiditySwapAdapterService=i,u.repayWithCollateralAdapterService=o,u.market=s;var c=u.config.network;return u.lendingPoolAddress=ge[u.market][c].LENDINGPOOL_ADDRESS,u}f(t,e);var n=t.prototype;return n.deposit=function(){var e=y(be.mark((function e(t){var n,r,a,i,o,s,u,c,p,l,d,y,m,f,b;return be.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.user,r=t.reserve,a=t.amount,i=t.onBehalfOf,o=t.referralCode,r.toLowerCase()!==we.toLowerCase()){e.next=3;break}return e.abrupt("return",this.wethGatewayService.depositETH({lendingPool:this.lendingPoolAddress,user:n,amount:a,onBehalfOf:i,referralCode:o}));case 3:return s=this.erc20Service,u=s.isApproved,c=s.approve,p=s.decimalsOf,l=[],e.next=7,p(r);case 7:return d=e.sent,y=at(a,d),e.next=11,this.synthetixService.synthetixValidation(n,r,y);case 11:if(e.sent){e.next=14;break}throw new Error("Not enough funds to execute operation");case 14:return e.next=16,u(r,n,this.lendingPoolAddress,a);case 16:return e.sent||(m=c(n,r,this.lendingPoolAddress,Ee),l.push(m)),f=this.getContractInstance(this.lendingPoolAddress),b=this.generateTxCallback({rawTxMethod:function(){return f.populateTransaction.deposit(r,y,i||n,o||"0")},from:n,value:it(r,y)}),l.push({tx:b,txType:ee.DLP_ACTION,gas:this.generateTxPriceEstimation(l,b,te.deposit)}),e.abrupt("return",l);case 22:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),n.withdraw=function(){var e=y(be.mark((function e(t){var n,r,a,i,o,u,c,p,l,d;return be.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.user,r=t.reserve,a=t.amount,i=t.onBehalfOf,o=t.aTokenAddress,r.toLowerCase()!==we.toLowerCase()){e.next=5;break}if(o){e.next=4;break}throw new Error("To withdraw ETH you need to pass the aWETH token address");case 4:return e.abrupt("return",this.wethGatewayService.withdrawETH({lendingPool:this.lendingPoolAddress,user:n,amount:a,onBehalfOf:i,aTokenAddress:o}));case 5:return u=this.erc20Service.decimalsOf,e.next=8,u(r);case 8:return c=e.sent,p="-1"===a?s.constants.MaxUint256.toString():at(a,c),l=this.getContractInstance(this.lendingPoolAddress),d=this.generateTxCallback({rawTxMethod:function(){return l.populateTransaction.withdraw(r,p,i||n)},from:n,action:te.withdraw}),e.abrupt("return",[{tx:d,txType:ee.DLP_ACTION,gas:this.generateTxPriceEstimation([],d,te.withdraw)}]);case 13:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),n.borrow=function(){var e=y(be.mark((function e(t){var n,r,a,i,o,s,u,c,p,l,d,y,m;return be.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.user,r=t.reserve,a=t.amount,i=t.interestRateMode,o=t.debtTokenAddress,s=t.onBehalfOf,u=t.referralCode,r.toLowerCase()!==we.toLowerCase()){e.next=5;break}if(o){e.next=4;break}throw new Error("To borrow ETH you need to pass the stable or variable WETH debt Token Address corresponding the interestRateMode");case 4:return e.abrupt("return",this.wethGatewayService.borrowETH({lendingPool:this.lendingPoolAddress,user:n,amount:a,debtTokenAddress:o,interestRateMode:i,referralCode:u}));case 5:return c=this.erc20Service.decimalsOf,e.next=8,c(r);case 8:return p=e.sent,l=at(a,p),d=i===z.Variable?2:1,y=this.getContractInstance(this.lendingPoolAddress),m=this.generateTxCallback({rawTxMethod:function(){return y.populateTransaction.borrow(r,l,d,u||0,s||n)},from:n}),e.abrupt("return",[{tx:m,txType:ee.DLP_ACTION,gas:this.generateTxPriceEstimation([],m)}]);case 14:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),n.repay=function(){var e=y(be.mark((function e(t){var n,r,a,i,o,u,c,p,l,d,y,m,f,b,T,g,h;return be.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.user,r=t.reserve,a=t.amount,i=t.interestRateMode,o=t.onBehalfOf,r.toLowerCase()!==we.toLowerCase()){e.next=3;break}return e.abrupt("return",this.wethGatewayService.repayETH({lendingPool:this.lendingPoolAddress,user:n,amount:a,interestRateMode:i,onBehalfOf:o}));case 3:return u=[],c=this.erc20Service,p=c.isApproved,l=c.approve,d=c.decimalsOf,y=this.getContractInstance(this.lendingPoolAddress),m=y.populateTransaction,f=i===z.Variable?2:1,e.next=10,d(r);case 10:if(b=e.sent,T="-1"===a?s.constants.MaxUint256.toString():at(a,b),"-1"===a){e.next=18;break}return e.next=15,this.synthetixService.synthetixValidation(n,r,T);case 15:if(e.sent){e.next=18;break}throw new Error("Not enough funds to execute operation");case 18:return e.next=20,p(r,n,this.lendingPoolAddress,a);case 20:return e.sent||(g=l(n,r,this.lendingPoolAddress,Ee),u.push(g)),h=this.generateTxCallback({rawTxMethod:function(){return m.repay(r,T,f,o||n)},from:n,value:it(r,T)}),u.push({tx:h,txType:ee.DLP_ACTION,gas:this.generateTxPriceEstimation(u,h,te.repay)}),e.abrupt("return",u);case 25:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),n.swapBorrowRateMode=function(){var e=y(be.mark((function e(t){var n,r,a,i,o,s;return be.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.user,r=t.reserve,a=t.interestRateMode,i=a===z.Variable?2:1,o=this.getContractInstance(this.lendingPoolAddress),s=this.generateTxCallback({rawTxMethod:function(){return o.populateTransaction.swapBorrowRateMode(r,i)},from:n}),e.abrupt("return",[{txType:ee.DLP_ACTION,tx:s,gas:this.generateTxPriceEstimation([],s)}]);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),n.setUsageAsCollateral=function(){var e=y(be.mark((function e(t){var n,r,a,i,o;return be.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.user,r=t.reserve,a=t.usageAsCollateral,i=this.getContractInstance(this.lendingPoolAddress),o=this.generateTxCallback({rawTxMethod:function(){return i.populateTransaction.setUserUseReserveAsCollateral(r,a)},from:n}),e.abrupt("return",[{tx:o,txType:ee.DLP_ACTION,gas:this.generateTxPriceEstimation([],o)}]);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),n.liquidationCall=function(){var e=y(be.mark((function e(t){var n,r,a,i,o,s,u,c,p,l,d,y,m,f,b,T,g,h,v;return be.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.liquidator,r=t.liquidatedUser,a=t.debtReserve,i=t.collateralReserve,o=t.purchaseAmount,s=t.getAToken,u=t.liquidateAll,c=[],p=this.erc20Service,l=p.isApproved,d=p.approve,y=p.getTokenData,e.next=5,l(a,n,this.lendingPoolAddress,o);case 5:return e.sent||(m=d(n,a,this.lendingPoolAddress,Ee),c.push(m)),e.next=9,Promise.all([y(a)]);case 9:return f=e.sent,b=f[0],T=b.decimals,g=u?Ae:at(o,T),h=this.getContractInstance(this.lendingPoolAddress),v=this.generateTxCallback({rawTxMethod:function(){return h.populateTransaction.liquidationCall(i,a,r,g,s||!1)},from:n,value:it(a,g)}),c.push({tx:v,txType:ee.DLP_ACTION,gas:this.generateTxPriceEstimation(c,v,te.liquidationCall)}),e.abrupt("return",c);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),n.swapCollateral=function(){var e=y(be.mark((function e(t){var n,r,a,i,u,c,p,l,d,y,m,f,b,T,g,h,v,O,E,A,w,x,S,D,j,C,R,_,P;return be.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.user,r=t.flash,a=t.fromAsset,i=t.fromAToken,u=t.toAsset,c=t.fromAmount,p=t.minToAmount,l=t.permitSignature,d=t.swapAll,y=t.onBehalfOf,m=t.referralCode,f=t.augustus,b=t.swapCallData,T=[],g=l||{amount:"0",deadline:"0",v:0,r:"0x0000000000000000000000000000000000000000000000000000000000000000",s:"0x0000000000000000000000000000000000000000000000000000000000000000"},h=Te[this.config.network].SWAP_COLLATERAL_ADAPTER,e.next=6,this.erc20Service.isApproved(i,n,h,c);case 6:return e.sent||(v=this.erc20Service.approve(n,i,h,s.constants.MaxUint256.toString()),T.push(v)),e.next=10,this.erc20Service.decimalsOf(a);case 10:return O=e.sent,E=at(c,O),e.next=14,this.erc20Service.decimalsOf(u);case 14:if(A=e.sent,w=at(p,A),x=this.getContractInstance(this.lendingPoolAddress),S=It(u,w,d?Nt(b):0,b,f,g.amount,g.deadline,g.v,g.r,g.s),!r){e.next=28;break}return e.next=21,x.FLASHLOAN_PREMIUM_TOTAL();case 21:return D=e.sent,j=o.a.from(E).sub(o.a.from(E).mul(D).div(1e4)).toString(),C=(Number(c)+Number(c)*Number(Se)/100).toString(),R=at(C,O),_=this.generateTxCallback({rawTxMethod:function(){return x.populateTransaction.flashLoan(h,[a],d?[R]:[j],[0],y||n,S,m||"0")},from:n}),T.push({tx:_,txType:ee.DLP_ACTION,gas:this.generateTxPriceEstimation(T,_,te.swapCollateral)}),e.abrupt("return",T);case 28:return e.next=30,this.liquiditySwapAdapterService.swapAndDeposit({user:n,assetToSwapFrom:a,assetToSwapTo:u,amountToSwap:E,minAmountToReceive:w,swapAll:d,swapCallData:b,augustus:f,permitParams:g});case 30:return P=e.sent,T.push(P),e.abrupt("return",T);case 33:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),n.repayWithCollateral=function(){var e=y(be.mark((function e(t){var n,r,a,i,o,u,c,p,l,d,y,m,f,b,T,g,h,v,O,E,A,w,x,S,D,j,C;return be.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.user,r=t.fromAsset,a=t.fromAToken,i=t.assetToRepay,o=t.repayWithAmount,u=t.repayAmount,c=t.permitSignature,p=t.repayAllDebt,l=t.rateMode,d=t.onBehalfOf,y=t.referralCode,m=t.flash,f=t.useEthPath,b=[],T=c||{amount:"0",deadline:"0",v:0,r:"0x0000000000000000000000000000000000000000000000000000000000000000",s:"0x0000000000000000000000000000000000000000000000000000000000000000"},g=Te[this.config.network].REPAY_WITH_COLLATERAL_ADAPTER,e.next=6,this.erc20Service.isApproved(a,n,g,o);case 6:return e.sent||(h=this.erc20Service.approve(n,a,g,s.constants.MaxUint256.toString()),b.push(h)),e.next=10,this.erc20Service.decimalsOf(r);case 10:return v=e.sent,O=at(o,v),E=(Number(u)+Number(u)*Number(Se)/100).toString(),e.next=15,this.erc20Service.decimalsOf(i);case 15:if(A=e.sent,w=at(p?E:u,A),x=0,l&&(x=l===z.Stable?1:2),!m){e.next=25;break}return S=s.utils.defaultAbiCoder.encode(["address","uint256","uint256","uint256","uint256","uint8","bytes32","bytes32","bool"],[r,O,x,T.amount,T.deadline,T.v,T.r,T.s,f||!1]),D=this.getContractInstance(this.lendingPoolAddress),j=this.generateTxCallback({rawTxMethod:function(){return D.populateTransaction.flashLoan(g,[i],[w],[0],d||n,S,y||"0")},from:n}),b.push({tx:j,txType:ee.DLP_ACTION,gas:this.generateTxPriceEstimation(b,j,te.repayCollateral)}),e.abrupt("return",b);case 25:return C=this.repayWithCollateralAdapterService.swapAndRepay({user:n,collateralAsset:r,debtAsset:i,collateralAmount:O,debtRepayAmount:w,debtRateMode:x,permit:T,useEthPath:f}),b.push(C),e.abrupt("return",b);case 28:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),n.flashLiquidation=function(){var e=y(be.mark((function e(t){var n,r,a,i,o,u,c,p,l,d,y,m,f,b,T,g,h;return be.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.user,r=t.collateralAsset,a=t.borrowedAsset,i=t.debtTokenCover,o=t.liquidateAll,u=t.initiator,c=t.useEthPath,p=function(e){return(Number(e)+Number(e)*Number(e)/100).toString()},l=[],d=Te[this.config.network].FLASHLIQUIDATION,y=this.getContractInstance(this.lendingPoolAddress),e.next=7,this.erc20Service.decimalsOf(a);case 7:return m=e.sent,f=at(i,m),b=o?s.constants.MaxUint256.toString():f,T=o?at(p(i),m):f,g=s.utils.defaultAbiCoder.encode(["address","address","address","uint256","bool"],[r,a,n,b,c||!1]),h=this.generateTxCallback({rawTxMethod:function(){return y.populateTransaction.flashLoan(d,[a],[T],[0],u,g,"0")},from:u}),l.push({tx:h,txType:ee.DLP_ACTION,gas:this.generateTxPriceEstimation(l,h,te.liquidationFlash)}),e.abrupt("return",l);case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t}(Pt);Object(i.b)([xt,Object(i.e)(0,mt("user")),Object(i.e)(0,mt("reserve")),Object(i.e)(0,bt("amount")),Object(i.e)(0,mt("onBehalfOf")),Object(i.d)("design:type",Function),Object(i.d)("design:paramtypes",[Object]),Object(i.d)("design:returntype",Promise)],Lt.prototype,"deposit",null),Object(i.b)([xt,Object(i.e)(0,mt("user")),Object(i.e)(0,mt("reserve")),Object(i.e)(0,gt("amount")),Object(i.e)(0,mt("onBehalfOf")),Object(i.e)(0,mt("aTokenAddress")),Object(i.d)("design:type",Function),Object(i.d)("design:paramtypes",[Object]),Object(i.d)("design:returntype",Promise)],Lt.prototype,"withdraw",null),Object(i.b)([xt,Object(i.e)(0,mt("user")),Object(i.e)(0,mt("reserve")),Object(i.e)(0,bt("amount")),Object(i.e)(0,mt("debtTokenAddress")),Object(i.e)(0,mt("onBehalfOf")),Object(i.d)("design:type",Function),Object(i.d)("design:paramtypes",[Object]),Object(i.d)("design:returntype",Promise)],Lt.prototype,"borrow",null),Object(i.b)([xt,Object(i.e)(0,mt("user")),Object(i.e)(0,mt("reserve")),Object(i.e)(0,gt("amount")),Object(i.e)(0,mt("onBehalfOf")),Object(i.d)("design:type",Function),Object(i.d)("design:paramtypes",[Object]),Object(i.d)("design:returntype",Promise)],Lt.prototype,"repay",null),Object(i.b)([xt,Object(i.e)(0,mt("user")),Object(i.e)(0,mt("reserve")),Object(i.d)("design:type",Function),Object(i.d)("design:paramtypes",[Object]),Object(i.d)("design:returntype",Promise)],Lt.prototype,"swapBorrowRateMode",null),Object(i.b)([xt,Object(i.e)(0,mt("user")),Object(i.e)(0,mt("reserve")),Object(i.d)("design:type",Function),Object(i.d)("design:paramtypes",[Object]),Object(i.d)("design:returntype",Promise)],Lt.prototype,"setUsageAsCollateral",null),Object(i.b)([xt,Object(i.e)(0,mt("liquidator")),Object(i.e)(0,mt("liquidatedUser")),Object(i.e)(0,mt("debtReserve")),Object(i.e)(0,mt("collateralReserve")),Object(i.e)(0,bt("purchaseAmount")),Object(i.d)("design:type",Function),Object(i.d)("design:paramtypes",[Object]),Object(i.d)("design:returntype",Promise)],Lt.prototype,"liquidationCall",null),Object(i.b)([xt,Object(i.e)(0,mt("user")),Object(i.e)(0,mt("fromAsset")),Object(i.e)(0,mt("fromAToken")),Object(i.e)(0,mt("toAsset")),Object(i.e)(0,mt("onBehalfOf")),Object(i.e)(0,mt("augustus")),Object(i.e)(0,bt("fromAmount")),Object(i.e)(0,bt("minToAmount")),Object(i.d)("design:type",Function),Object(i.d)("design:paramtypes",[Object]),Object(i.d)("design:returntype",Promise)],Lt.prototype,"swapCollateral",null),Object(i.b)([xt,Object(i.e)(0,mt("user")),Object(i.e)(0,mt("fromAsset")),Object(i.e)(0,mt("fromAToken")),Object(i.e)(0,mt("assetToRepay")),Object(i.e)(0,mt("onBehalfOf")),Object(i.e)(0,bt("repayWithAmount")),Object(i.e)(0,bt("repayAmount")),Object(i.d)("design:type",Function),Object(i.d)("design:paramtypes",[Object]),Object(i.d)("design:returntype",Promise)],Lt.prototype,"repayWithCollateral",null),Object(i.b)([xt,Object(i.e)(0,mt("user")),Object(i.e)(0,mt("collateralAsset")),Object(i.e)(0,mt("borrowedAsset")),Object(i.e)(0,bt("debtTokenCover")),Object(i.e)(0,mt("initiator")),Object(i.d)("design:type",Function),Object(i.d)("design:paramtypes",[Object]),Object(i.d)("design:returntype",Promise)],Lt.prototype,"flashLiquidation",null);var Bt=function(e){function t(t){var n,r=(n=e.call(this,t,Xe)||this).config,a=r.provider,i=r.network,o=Te[i].FAUCET;return n.faucetAddress=o,Ce.faucet.indexOf(i)>-1&&(n.faucetContract=Le.connect(n.faucetAddress,a)),n}f(t,e);var n=t.prototype;return n.mint=function(){var e=y(be.mark((function e(t){var n,r,a,i,o,s,u=this;return be.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.userAddress,r=t.reserve,a=t.tokenSymbol,i=ot[a],e.next=4,this.getTxValue(r,i);case 4:return o=e.sent,s=this.generateTxCallback({rawTxMethod:function(){return u.faucetContract.populateTransaction.mint(r,i)},from:n,value:o}),e.abrupt("return",[{tx:s,txType:ee.FAUCET_MINT,gas:this.generateTxPriceEstimation([],s)}]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),n.getTxValue=function(){var e=y(be.mark((function e(t,n){var r,a,i;return be.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.faucetContract.getMinter(t);case 2:return r=e.sent,a=this.getContractInstance(r),e.next=6,a.isEthRequired();case 6:return i=e.sent,e.abrupt("return",i?n:ve);case 8:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}(),t}(Pt);Object(i.b)([function(e,t,n){var r=n.value;n.value=function(){var n=this.config.network,a=Ce.faucet;if(-1===a.indexOf(n))return[];var i=ht(e,t,arguments);return vt(e,t,arguments,i),Et(e,t,arguments,i),null==r?void 0:r.apply(this,arguments)}},Object(i.e)(0,mt("userAddress")),Object(i.e)(0,mt("reserve")),Object(i.d)("design:type",Function),Object(i.d)("design:paramtypes",[Object]),Object(i.d)("design:returntype",Promise)],Bt.prototype,"mint",null);var Vt=function(e){function t(t,n){var r;(r=e.call(this,t,qe)||this).erc20Service=n;var a=r.config.network;return r.migratorAddress=Te[a].LEND_TO_AAVE_MIGRATOR,r}return f(t,e),t.prototype.migrateLendToAave=function(){var e=y(be.mark((function e(t,n){var r,a,i,o,s,u,c,p,l,d;return be.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=[],this.config.network!==Z.ropsten){e.next=3;break}return e.abrupt("return",r);case 3:return a=this.erc20Service,i=a.isApproved,o=a.approve,s=a.decimalsOf,u=this.getContractInstance(this.migratorAddress),e.next=7,u.LEND();case 7:return c=e.sent,e.next=10,i(c,t,this.migratorAddress,n);case 10:return e.sent||r.push(o(t,c,this.migratorAddress,Ee)),e.next=14,s(c);case 14:return p=e.sent,e.next=17,at(n,p);case 17:return l=e.sent,d=this.generateTxCallback({rawTxMethod:function(){return u.populateTransaction.migrateFromLEND(l)},from:t}),r.push({txType:ee.MIGRATION_LEND_AAVE,tx:d,gas:this.generateTxPriceEstimation(r,d)}),e.abrupt("return",r);case 21:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}(),t}(Pt);Object(i.b)([function(e,t,n){var r=n.value;n.value=function(){var n=this.config.network,a=Ce.ltaMigrator;return-1===a.indexOf(n)?[]:(vt(e,t,arguments),Et(e,t,arguments),null==r?void 0:r.apply(this,arguments))}},Object(i.e)(0,mt()),Object(i.e)(1,bt()),Object(i.d)("design:type",Function),Object(i.d)("design:paramtypes",[String,String]),Object(i.d)("design:returntype",Promise)],Vt.prototype,"migrateLendToAave",null);var Mt=function(e){function t(t,n,r){var a;(a=e.call(this,t,Ze)||this).tokenStake=r,a.erc20Service=n;var i=a.config,o=i.provider,s=i.network,u=je[a.tokenStake][s],c=u.TOKEN_STAKING_ADDRESS,p=u.STAKING_REWARD_TOKEN_ADDRESS,l=u.STAKING_HELPER_ADDRESS,d=u.canUsePermit;return a.stakingContractAddress=c,a.stakingRewardTokenContractAddress=p,a.stakingHelperContractAddress=l,a.canUsePermit=d,a.canUsePermit&&(a.stakingHelperContract=ke.connect(l,o)),a}f(t,e);var n=t.prototype;return n.signStaking=function(){var e=y(be.mark((function e(t,n,r){var a,i,o,u,c,p,l,d;return be.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.canUsePermit){e.next=2;break}return e.abrupt("return","");case 2:return a=this.erc20Service.getTokenData,i=this.getContractInstance(this.stakingContractAddress),e.next=6,i.STAKED_TOKEN();case 6:return o=e.sent,e.next=9,a(o);case 9:return u=e.sent,c=u.name,p=u.decimals,l=at(n,p),d={types:{EIP712Domain:[{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"}],Permit:[{name:"owner",type:"address"},{name:"spender",type:"address"},{name:"value",type:"uint256"},{name:"nonce",type:"uint256"},{name:"deadline",type:"uint256"}]},primaryType:"Permit",domain:{name:c,version:"1",chainId:$[this.config.network],verifyingContract:o},message:{owner:t,spender:this.stakingHelperContractAddress,value:l,nonce:r,deadline:s.constants.MaxUint256.toString()}},e.abrupt("return",JSON.stringify(d));case 15:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}(),n.stakeWithPermit=function(){var e=y(be.mark((function e(t,n,r){var a,i,o,u,c,p,l,d,y=this;return be.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.canUsePermit){e.next=2;break}return e.abrupt("return",[]);case 2:return a=[],i=this.erc20Service.decimalsOf,o=this.getContractInstance(this.stakingContractAddress),e.next=7,o.STAKED_TOKEN();case 7:return u=e.sent,e.next=10,i(u);case 10:return c=e.sent,p=at(n,c),l=s.utils.splitSignature(r),d=this.generateTxCallback({rawTxMethod:function(){return y.stakingHelperContract.populateTransaction.stake(t,p,l.v,l.r,l.s)},from:t}),a.push({tx:d,txType:ee.STAKE_ACTION,gas:this.generateTxPriceEstimation(a,d)}),e.abrupt("return",a);case 16:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}(),n.stake=function(){var e=y(be.mark((function e(t,n,r){var a,i,o,s,u,c,p,l,d,y,m;return be.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=[],i=this.erc20Service,o=i.decimalsOf,s=i.isApproved,u=i.approve,c=this.getContractInstance(this.stakingContractAddress),e.next=5,c.STAKED_TOKEN();case 5:return p=e.sent,e.next=8,o(p);case 8:return l=e.sent,d=at(n,l),e.next=12,s(p,t,this.stakingContractAddress,n);case 12:return e.sent||(y=u(t,p,this.stakingContractAddress,Ee),a.push(y)),m=this.generateTxCallback({rawTxMethod:function(){return c.populateTransaction.stake(r||t,d)},from:t}),a.push({tx:m,txType:ee.STAKE_ACTION,gas:this.generateTxPriceEstimation(a,m)}),e.abrupt("return",a);case 17:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}(),n.redeem=function(){var e=y(be.mark((function e(t,n){var r,a,i,o,s,u;return be.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=this.getContractInstance(this.stakingContractAddress),"-1"!==n){e.next=5;break}r=Ae,e.next=13;break;case 5:return i=this.erc20Service.decimalsOf,e.next=8,a.STAKED_TOKEN();case 8:return o=e.sent,e.next=11,i(o);case 11:s=e.sent,r=at(n,s);case 13:return u=this.generateTxCallback({rawTxMethod:function(){return a.populateTransaction.redeem(t,r)},from:t,gasSurplus:20}),e.abrupt("return",[{tx:u,txType:ee.STAKE_ACTION,gas:this.generateTxPriceEstimation([],u)}]);case 15:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}(),n.cooldown=function(){var e=y(be.mark((function e(t){var n,r;return be.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.getContractInstance(this.stakingContractAddress),r=this.generateTxCallback({rawTxMethod:function(){return n.populateTransaction.cooldown()},from:t}),e.abrupt("return",[{tx:r,txType:ee.STAKE_ACTION,gas:this.generateTxPriceEstimation([],r)}]);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),n.claimRewards=function(){var e=y(be.mark((function e(t,n){var r,a,i,o,s,u;return be.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=this.getContractInstance(this.stakingContractAddress),"-1"!==n){e.next=5;break}r=Ae,e.next=13;break;case 5:return i=this.erc20Service.decimalsOf,e.next=8,a.REWARD_TOKEN();case 8:return o=e.sent,e.next=11,i(o);case 11:s=e.sent,r=at(n,s);case 13:return u=this.generateTxCallback({rawTxMethod:function(){return a.populateTransaction.claimRewards(t,r)},from:t,gasSurplus:20}),e.abrupt("return",[{tx:u,txType:ee.STAKE_ACTION,gas:this.generateTxPriceEstimation([],u)}]);case 15:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}(),t}(Pt);Object(i.b)([St,Object(i.e)(0,mt()),Object(i.e)(1,bt()),Object(i.d)("design:type",Function),Object(i.d)("design:paramtypes",[String,String,String]),Object(i.d)("design:returntype",Promise)],Mt.prototype,"signStaking",null),Object(i.b)([St,Object(i.e)(0,mt()),Object(i.e)(1,bt()),Object(i.d)("design:type",Function),Object(i.d)("design:paramtypes",[String,String,String]),Object(i.d)("design:returntype",Promise)],Mt.prototype,"stakeWithPermit",null),Object(i.b)([St,Object(i.e)(0,mt()),Object(i.e)(1,bt()),Object(i.e)(2,(function(e,t,n){var r=Reflect.getOwnMetadata(yt,e,t)||[];r.push(n),Reflect.defineMetadata(yt,r,e,t)})),Object(i.e)(2,mt()),Object(i.d)("design:type",Function),Object(i.d)("design:paramtypes",[String,String,String]),Object(i.d)("design:returntype",Promise)],Mt.prototype,"stake",null),Object(i.b)([St,Object(i.e)(0,mt()),Object(i.e)(1,gt()),Object(i.d)("design:type",Function),Object(i.d)("design:paramtypes",[String,String]),Object(i.d)("design:returntype",Promise)],Mt.prototype,"redeem",null),Object(i.b)([St,Object(i.e)(0,mt()),Object(i.d)("design:type",Function),Object(i.d)("design:paramtypes",[String]),Object(i.d)("design:returntype",Promise)],Mt.prototype,"cooldown",null),Object(i.b)([St,Object(i.e)(0,mt()),Object(i.e)(1,gt()),Object(i.d)("design:type",Function),Object(i.d)("design:paramtypes",[String,String]),Object(i.d)("design:returntype",Promise)],Mt.prototype,"claimRewards",null);var Gt=function(e){function t(t){var n,r=(n=e.call(this,t,Pe)||this).config.network,a=Te[r];return n.incentivesControllerAddress=a.INCENTIVES_CONTROLLER,n.incentivesControllerRewardTokenAddress=a.INCENTIVES_CONTROLLER_REWARD_TOKEN,n}return f(t,e),t.prototype.claimRewards=function(e){var t=e.user,n=e.assets,r=e.to,a=this.getContractInstance(this.incentivesControllerAddress),i=this.generateTxCallback({rawTxMethod:function(){return a.populateTransaction.claimRewards(n,s.constants.MaxUint256.toString(),r||t)},from:t});return[{tx:i,txType:ee.REWARD_ACTION,gas:this.generateTxPriceEstimation([],i)}]},t}(Pt);Object(i.b)([function(e,t,n){var r=n.value;n.value=function(){var n=this.config.network,a=Ce.incentivesController;return-1===a.indexOf(n)?[]:(vt(e,t,arguments),null==r?void 0:r.apply(this,arguments))}},Object(i.e)(0,mt("user")),Object(i.e)(0,mt("to")),Object(i.d)("design:type",Function),Object(i.d)("design:paramtypes",[Object]),Object(i.d)("design:returntype",Array)],Gt.prototype,"claimRewards",null);var Ht=function(e){function t(t,n,r){var a;(a=e.call(this,t,nt)||this).config=t,a.baseDebtTokenService=n,a.erc20Service=r;var i=a.config.network,o=Te[i].WETH_GATEWAY;return a.wethGatewayAddress=o,a}f(t,e);var n=t.prototype;return n.depositETH=function(){var e=y(be.mark((function e(t){var n,r,a,i,o,s,u,c;return be.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.lendingPool,r=t.user,a=t.amount,i=t.onBehalfOf,o=t.referralCode,s=at(a,18),u=this.getContractInstance(this.wethGatewayAddress),c=this.generateTxCallback({rawTxMethod:function(){return u.populateTransaction.depositETH(n,i||r,o||"0")},from:r,value:s}),e.abrupt("return",[{tx:c,txType:ee.DLP_ACTION,gas:this.generateTxPriceEstimation([],c)}]);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),n.borrowETH=function(){var e=y(be.mark((function e(t){var n,r,a,i,o,u,c,p,l,d,y,m;return be.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.lendingPool,r=t.user,a=t.amount,i=t.debtTokenAddress,o=t.interestRateMode,u=t.referralCode,c=[],p=at(a,18),l=o===z.Variable?2:1,e.next=6,this.baseDebtTokenService.isDelegationApproved(i,r,this.wethGatewayAddress,a);case 6:return e.sent||(d=this.baseDebtTokenService.approveDelegation(r,this.wethGatewayAddress,i,s.constants.MaxUint256.toString()),c.push(d)),y=this.getContractInstance(this.wethGatewayAddress),m=this.generateTxCallback({rawTxMethod:function(){return y.populateTransaction.borrowETH(n,p,l,u||"0")},from:r}),c.push({tx:m,txType:ee.DLP_ACTION,gas:this.generateTxPriceEstimation(c,m,te.borrowETH)}),e.abrupt("return",c);case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),n.withdrawETH=function(){var e=y(be.mark((function e(t){var n,r,a,i,o,u,c,p,l,d,y,m,f;return be.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.lendingPool,r=t.user,a=t.amount,i=t.onBehalfOf,o=t.aTokenAddress,u=[],c=this.erc20Service,p=c.isApproved,l=c.approve,d="-1"===a?s.constants.MaxUint256.toString():at(a,18),e.next=6,p(o,r,this.wethGatewayAddress,a);case 6:return e.sent||(y=l(r,o,this.wethGatewayAddress,s.constants.MaxUint256.toString()),u.push(y)),m=this.getContractInstance(this.wethGatewayAddress),f=this.generateTxCallback({rawTxMethod:function(){return m.populateTransaction.withdrawETH(n,d,i||r)},from:r}),u.push({tx:f,txType:ee.DLP_ACTION,gas:this.generateTxPriceEstimation(u,f,te.withdrawETH)}),e.abrupt("return",u);case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),n.repayETH=function(){var e=y(be.mark((function e(t){var n,r,a,i,o,s,u,c,p;return be.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.lendingPool,r=t.user,a=t.amount,i=t.interestRateMode,o=t.onBehalfOf,s=at(a,18),u=i===z.Variable?2:1,c=this.getContractInstance(this.wethGatewayAddress),p=this.generateTxCallback({rawTxMethod:function(){return c.populateTransaction.repayETH(n,s,u,o||r)},gasSurplus:30,from:r,value:s}),e.abrupt("return",[{tx:p,txType:ee.DLP_ACTION,gas:this.generateTxPriceEstimation([],p)}]);case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t}(Pt);Object(i.b)([Dt,Object(i.e)(0,mt("lendingPool")),Object(i.e)(0,mt("user")),Object(i.e)(0,mt("onBehalfOf")),Object(i.e)(0,bt("amount")),Object(i.d)("design:type",Function),Object(i.d)("design:paramtypes",[Object]),Object(i.d)("design:returntype",Promise)],Ht.prototype,"depositETH",null),Object(i.b)([Dt,Object(i.e)(0,mt("lendingPool")),Object(i.e)(0,mt("user")),Object(i.e)(0,bt("amount")),Object(i.e)(0,mt("debtTokenAddress")),Object(i.d)("design:type",Function),Object(i.d)("design:paramtypes",[Object]),Object(i.d)("design:returntype",Promise)],Ht.prototype,"borrowETH",null),Object(i.b)([Dt,Object(i.e)(0,mt("lendingPool")),Object(i.e)(0,mt("user")),Object(i.e)(0,mt("onBehalfOf")),Object(i.e)(0,gt("amount")),Object(i.e)(0,mt("aTokenAddress")),Object(i.d)("design:type",Function),Object(i.d)("design:paramtypes",[Object]),Object(i.d)("design:returntype",Promise)],Ht.prototype,"withdrawETH",null),Object(i.b)([Dt,Object(i.e)(0,mt("lendingPool")),Object(i.e)(0,mt("user")),Object(i.e)(0,mt("onBehalfOf")),Object(i.e)(0,bt("amount")),Object(i.d)("design:type",Function),Object(i.d)("design:paramtypes",[Object]),Object(i.d)("design:returntype",Promise)],Ht.prototype,"repayETH",null);var Ut,Ft,Kt=function(e){function t(t){var n;n=e.call(this,t,ze)||this;var r=Te[n.config.network].REPAY_WITH_COLLATERAL_ADAPTER;return n.repayWithCollateralAddress=r,n}return f(t,e),t.prototype.swapAndRepay=function(e){var t=e.user,n=e.collateralAsset,r=e.debtAsset,a=e.collateralAmount,i=e.debtRepayAmount,o=e.debtRateMode,s=e.permit,u=e.useEthPath,c=this.getContractInstance(this.repayWithCollateralAddress),p=this.generateTxCallback({rawTxMethod:function(){return c.populateTransaction.swapAndRepay(n,r,a,i,o,s,u||!1)},from:t});return{tx:p,txType:ee.DLP_ACTION,gas:this.generateTxPriceEstimation([],p)}},t}(Pt);Object(i.b)([function(e,t,n){var r=n.value;n.value=function(){var n=this.config.network,a=Ce.repayWithCollateralAdapter;return-1===a.indexOf(n)?[]:(vt(e,t,arguments),Et(e,t,arguments),wt(e,t,arguments),null==r?void 0:r.apply(this,arguments))}},Object(i.e)(0,mt("user")),Object(i.e)(0,mt("collateralAsset")),Object(i.e)(0,mt("debtAsset")),Object(i.e)(0,bt("collateralAmount")),Object(i.e)(0,bt("debtRepayAmount")),Object(i.d)("design:type",Function),Object(i.d)("design:paramtypes",[Object]),Object(i.d)("design:returntype",Object)],Kt.prototype,"swapAndRepay",null),function(e){e[e.Short=0]="Short",e[e.Long=1]="Long"}(Ut||(Ut={})),function(e){e.Pending="Pending",e.Canceled="Canceled",e.Active="Active",e.Failed="Failed",e.Succeeded="Succeeded",e.Queued="Queued",e.Expired="Expired",e.Executed="Executed"}(Ft||(Ft={}));function Wt(e){return"https://cloudflare-ipfs.com/ipfs/"+e}var qt={};function Yt(e){return Xt.apply(this,arguments)}function Xt(){return(Xt=y(be.mark((function t(n){var r,a,i;return be.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=c.base58.encode(e.from("1220"+n.slice(2),"hex")),!qt[r]){t.next=3;break}return t.abrupt("return",qt[r]);case 3:return t.prev=3,t.next=6,l.a.get(Wt(r),{timeout:2e3});case 6:if(a=t.sent,null!=(i=a.data)&&i.title){t.next=10;break}throw Error("Missing title field at proposal metadata.");case 10:if(null!=i&&i.description){t.next=12;break}throw Error("Missing description field at proposal metadata.");case 12:if(null!=i&&i.shortDescription){t.next=14;break}throw Error("Missing shortDescription field at proposal metadata.");case 14:return qt[r]={ipfsHash:r,title:i.title,description:i.description,shortDescription:i.shortDescription},t.abrupt("return",qt[r]);case 18:return t.prev=18,t.t0=t.catch(3),console.error("@aave/protocol-js: IPFS fetch Error: "+t.t0.message),t.abrupt("return",{ipfsHash:r,title:"Proposal - "+r,description:"Proposal with invalid metadata format or IPFS gateway is down",shortDescription:"Proposal with invalid metadata format or IPFS gateway is down"});case 22:case"end":return t.stop()}}),t,null,[[3,18]])})))).apply(this,arguments)}var Qt=function(){var e=y(be.mark((function e(t){var n,r,a,i,o,s,u,c,p,l,d,y,m,f,b,T,g,h,v,O,E,A,w,x,S;return be.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.id,r=t.creator,a=t.executor,i=t.targets,o=t.values,s=t.signatures,u=t.calldatas,c=t.withDelegatecalls,p=t.startBlock,l=t.endBlock,d=t.executionTime,y=t.forVotes,m=t.againstVotes,f=t.executed,b=t.canceled,T=t.strategy,g=t.ipfsHash,h=t.totalVotingSupply,v=t.minimumQuorum,O=t.minimumDiff,E=t.executionTimeWithGracePeriod,A=t.proposalCreated,w=t.proposalState,e.next=3,Yt(g);case 3:return x=e.sent,S={id:Number(n.toString()),creator:r,executor:a,targets:i,values:o,signatures:s,calldatas:u,withDelegatecalls:c,startBlock:Number(p.toString()),endBlock:Number(l.toString()),executionTime:d.toString(),forVotes:y.toString(),againstVotes:m.toString(),executed:f,canceled:b,strategy:T,ipfsHash:x.ipfsHash,state:Object.values(Ft)[w],minimumQuorum:v.toString(),minimumDiff:O.toString(),executionTimeWithGracePeriod:E.toString(),title:x.title,description:x.description,shortDescription:x.shortDescription,proposalCreated:Number(A.toString()),totalVotingSupply:h.toString()},e.abrupt("return",S);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),zt=function(e){function t(t){var n;(n=e.call(this,t,Re)||this).executors=[];var r=n.config.network,a=he[r],i=a.AAVE_GOVERNANCE_V2,o=a.AAVE_GOVERNANCE_V2_HELPER,s=a.AAVE_GOVERNANCE_V2_EXECUTOR_SHORT,u=a.AAVE_GOVERNANCE_V2_EXECUTOR_LONG;return n.aaveGovernanceV2Address=i,n.aaveGovernanceV2HelperAddress=o,n.executors[Ut.Short]=s,n.executors[Ut.Long]=u,n}f(t,e);var n=t.prototype;return n.create=function(){var e=y(be.mark((function e(t){var n,r,a,i,o,s,u,c,p,l,d,y=this;return be.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.user,r=t.targets,a=t.values,i=t.signatures,o=t.calldatas,s=t.withDelegateCalls,u=t.ipfsHash,c=t.executor,p=[],l=this.getContractInstance(this.aaveGovernanceV2Address),d=this.generateTxCallback({rawTxMethod:function(){return l.populateTransaction.create(y.executors[c],r,a,i,o,s,u)},from:n}),p.push({tx:d,txType:ee.GOVERNANCE_ACTION,gas:this.generateTxPriceEstimation(p,d)}),e.abrupt("return",p);case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),n.cancel=function(){var e=y(be.mark((function e(t){var n,r,a,i,o;return be.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.user,r=t.proposalId,a=[],i=this.getContractInstance(this.aaveGovernanceV2Address),o=this.generateTxCallback({rawTxMethod:function(){return i.populateTransaction.cancel(r)},from:n}),a.push({tx:o,txType:ee.GOVERNANCE_ACTION,gas:this.generateTxPriceEstimation(a,o)}),e.abrupt("return",a);case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),n.queue=function(){var e=y(be.mark((function e(t){var n,r,a,i,o;return be.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.user,r=t.proposalId,a=[],i=this.getContractInstance(this.aaveGovernanceV2Address),o=this.generateTxCallback({rawTxMethod:function(){return i.populateTransaction.queue(r)},from:n}),a.push({tx:o,txType:ee.GOVERNANCE_ACTION,gas:this.generateTxPriceEstimation(a,o)}),e.abrupt("return",a);case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),n.execute=function(){var e=y(be.mark((function e(t){var n,r,a,i,o;return be.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.user,r=t.proposalId,a=[],i=this.getContractInstance(this.aaveGovernanceV2Address),o=this.generateTxCallback({rawTxMethod:function(){return i.populateTransaction.execute(r)},from:n}),a.push({tx:o,txType:ee.GOVERNANCE_ACTION,gas:this.generateTxPriceEstimation(a,o)}),e.abrupt("return",a);case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),n.submitVote=function(){var e=y(be.mark((function e(t){var n,r,a,i,o,s;return be.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.user,r=t.proposalId,a=t.support,i=[],o=this.getContractInstance(this.aaveGovernanceV2Address),s=this.generateTxCallback({rawTxMethod:function(){return o.populateTransaction.submitVote(r,a)},from:n}),i.push({tx:s,txType:ee.GOVERNANCE_ACTION,gas:this.generateTxPriceEstimation(i,s)}),e.abrupt("return",i);case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),n.signVoting=function(){var e=y(be.mark((function e(t){var n,r,a;return be.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.support,r=t.proposalId,a={types:{EIP712Domain:[{name:"name",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"}],VoteEmitted:[{name:"id",type:"uint256"},{name:"support",type:"bool"}]},primaryType:"VoteEmitted",domain:{name:"Aave Governance v2",chainId:$[this.config.network],verifyingContract:this.aaveGovernanceV2Address},message:{support:n,id:r}},e.abrupt("return",JSON.stringify(a));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),n.submitVoteBySignature=function(){var e=y(be.mark((function e(t){var n,r,a,i,o,u,c,p;return be.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.user,r=t.proposalId,a=t.support,i=t.signature,o=[],u=this.getContractInstance(this.aaveGovernanceV2Address),c=s.utils.splitSignature(i),p=this.generateTxCallback({rawTxMethod:function(){return u.populateTransaction.submitVoteBySignature(r,a,c.v,c.r,c.s)},from:n}),o.push({tx:p,txType:ee.GOVERNANCE_ACTION,gas:this.generateTxPriceEstimation(o,p)}),e.abrupt("return",o);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),n.getProposals=function(){var e=y(be.mark((function e(t){var n,r,a,i,o,s;return be.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.skip,r=t.limit,a=this.config.provider,i=Ue.connect(this.aaveGovernanceV2HelperAddress,a),e.next=5,i.getProposals(n.toString(),r.toString(),this.aaveGovernanceV2Address);case 5:return o=e.sent,s=Promise.all(o.map(function(){var e=y(be.mark((function e(t){return be.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Qt(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),e.abrupt("return",s);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),n.getProposal=function(){var e=y(be.mark((function e(t){var n,r,a,i;return be.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.proposalId,r=this.config.provider,a=Ue.connect(this.aaveGovernanceV2HelperAddress,r),e.next=5,a.getProposal(n,this.aaveGovernanceV2Address);case 5:return i=e.sent,e.abrupt("return",Qt(i));case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),n.getPropositionPowerAt=function(){var e=y(be.mark((function e(t){var n,r,a,i,o,s;return be.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.user,r=t.block,a=t.strategy,i=this.config.provider,o=Ge.connect(a,i),e.next=5,o.getPropositionPowerAt(n,r.toString());case 5:return s=e.sent,e.abrupt("return",Object(c.formatEther)(s));case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),n.getVotingPowerAt=function(){var e=y(be.mark((function e(t){var n,r,a,i,o,s;return be.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.user,r=t.block,a=t.strategy,i=this.config.provider,o=Ge.connect(a,i),e.next=5,o.getVotingPowerAt(n,r.toString());case 5:return s=e.sent,e.abrupt("return",Object(c.formatEther)(s));case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),n.getTotalPropositionSupplyAt=function(){var e=y(be.mark((function e(t){var n,r,a,i,o;return be.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.block,r=t.strategy,a=this.config.provider,i=Ge.connect(r,a),e.next=5,i.getTotalPropositionSupplyAt(n.toString());case 5:return o=e.sent,e.abrupt("return",Object(c.formatEther)(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),n.getTotalVotingSupplyAt=function(){var e=y(be.mark((function e(t){var n,r,a,i,o;return be.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.block,r=t.strategy,a=this.config.provider,i=Ge.connect(r,a),e.next=5,i.getTotalVotingSupplyAt(n.toString());case 5:return o=e.sent,e.abrupt("return",Object(c.formatEther)(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),n.getTokensPower=function(){var e=y(be.mark((function e(t){var n,r,a,i,o;return be.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.user,r=t.tokens,a=this.config.provider,i=Ue.connect(this.aaveGovernanceV2HelperAddress,a),o=i.getTokensPower(n,r),e.abrupt("return",o);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),n.getVoteOnProposal=function(){var e=y(be.mark((function e(t){var n,r,a;return be.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.proposalId,r=t.user,a=this.getContractInstance(this.aaveGovernanceV2Address),e.abrupt("return",a.getVoteOnProposal(n,r));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t}(Pt);Object(i.b)([jt,Object(i.e)(0,mt("user")),Object(i.d)("design:type",Function),Object(i.d)("design:paramtypes",[Object]),Object(i.d)("design:returntype",Promise)],zt.prototype,"create",null),Object(i.b)([jt,Object(i.e)(0,mt("user")),Object(i.e)(0,Tt("proposalId")),Object(i.d)("design:type",Function),Object(i.d)("design:paramtypes",[Object]),Object(i.d)("design:returntype",Promise)],zt.prototype,"cancel",null),Object(i.b)([jt,Object(i.e)(0,mt("user")),Object(i.e)(0,Tt("proposalId")),Object(i.d)("design:type",Function),Object(i.d)("design:paramtypes",[Object]),Object(i.d)("design:returntype",Promise)],zt.prototype,"queue",null),Object(i.b)([jt,Object(i.e)(0,mt("user")),Object(i.e)(0,Tt("proposalId")),Object(i.d)("design:type",Function),Object(i.d)("design:paramtypes",[Object]),Object(i.d)("design:returntype",Promise)],zt.prototype,"execute",null),Object(i.b)([jt,Object(i.e)(0,mt("user")),Object(i.e)(0,Tt("proposalId")),Object(i.d)("design:type",Function),Object(i.d)("design:paramtypes",[Object]),Object(i.d)("design:returntype",Promise)],zt.prototype,"submitVote",null),Object(i.b)([jt,Object(i.e)(0,Tt("proposalId")),Object(i.d)("design:type",Function),Object(i.d)("design:paramtypes",[Object]),Object(i.d)("design:returntype",Promise)],zt.prototype,"signVoting",null),Object(i.b)([jt,Object(i.e)(0,mt("user")),Object(i.e)(0,Tt("proposalId")),Object(i.d)("design:type",Function),Object(i.d)("design:paramtypes",[Object]),Object(i.d)("design:returntype",Promise)],zt.prototype,"submitVoteBySignature",null),Object(i.b)([jt,Object(i.d)("design:type",Function),Object(i.d)("design:paramtypes",[Object]),Object(i.d)("design:returntype",Promise)],zt.prototype,"getProposals",null),Object(i.b)([jt,Object(i.d)("design:type",Function),Object(i.d)("design:paramtypes",[Object]),Object(i.d)("design:returntype",Promise)],zt.prototype,"getProposal",null),Object(i.b)([jt,Object(i.d)("design:type",Function),Object(i.d)("design:paramtypes",[Object]),Object(i.d)("design:returntype",Promise)],zt.prototype,"getPropositionPowerAt",null),Object(i.b)([jt,Object(i.d)("design:type",Function),Object(i.d)("design:paramtypes",[Object]),Object(i.d)("design:returntype",Promise)],zt.prototype,"getVotingPowerAt",null),Object(i.b)([jt,Object(i.d)("design:type",Function),Object(i.d)("design:paramtypes",[Object]),Object(i.d)("design:returntype",Promise)],zt.prototype,"getTotalPropositionSupplyAt",null),Object(i.b)([jt,Object(i.d)("design:type",Function),Object(i.d)("design:paramtypes",[Object]),Object(i.d)("design:returntype",Promise)],zt.prototype,"getTotalVotingSupplyAt",null),Object(i.b)([jt,Object(i.d)("design:type",Function),Object(i.d)("design:paramtypes",[Object]),Object(i.d)("design:returntype",Promise)],zt.prototype,"getTokensPower",null),Object(i.b)([jt,Object(i.d)("design:type",Function),Object(i.d)("design:paramtypes",[Object]),Object(i.d)("design:returntype",Promise)],zt.prototype,"getVoteOnProposal",null);var Jt=function(e){function t(t){return e.call(this,t,Ve)||this}f(t,e);var n=t.prototype;return n.delegate=function(){var e=y(be.mark((function e(t){var n,r,a,i,o,s,u;return be.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.user,r=t.delegatee,a=t.governanceToken,i=[],o=this.getContractInstance(a),e.next=5,this.getDelegateeAddress(r);case 5:return s=e.sent,u=this.generateTxCallback({rawTxMethod:function(){return o.populateTransaction.delegate(s)},from:n}),i.push({tx:u,txType:ee.GOV_DELEGATION_ACTION,gas:this.generateTxPriceEstimation(i,u)}),e.abrupt("return",i);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),n.delegateByType=function(){var e=y(be.mark((function e(t){var n,r,a,i,o,s,u,c;return be.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.user,r=t.delegatee,a=t.delegationType,i=t.governanceToken,o=[],s=this.getContractInstance(i),e.next=5,this.getDelegateeAddress(r);case 5:return u=e.sent,c=this.generateTxCallback({rawTxMethod:function(){return s.populateTransaction.delegateByType(u,a)},from:n}),o.push({tx:c,txType:ee.GOV_DELEGATION_ACTION,gas:this.generateTxPriceEstimation(o,c)}),e.abrupt("return",o);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),n.delegateBySig=function(){var e=y(be.mark((function e(t){var n,r,a,i,o,s,u,p,l,d,y,m,f,b;return be.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.user,r=t.delegatee,a=t.expiry,i=t.signature,o=t.governanceToken,s=[],u=this.getContractInstance(o),e.next=5,this.getNonce({user:n,governanceToken:o});case 5:return p=e.sent,l=Object(c.splitSignature)(i),d=l.v,y=l.r,m=l.s,e.next=9,this.getDelegateeAddress(r);case 9:return f=e.sent,b=this.generateTxCallback({rawTxMethod:function(){return u.populateTransaction.delegateBySig(f,p,a,d,y,m)},from:n}),s.push({tx:b,txType:ee.GOV_DELEGATION_ACTION,gas:this.generateTxPriceEstimation(s,b)}),e.abrupt("return",s);case 13:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),n.delegateByTypeBySig=function(){var e=y(be.mark((function e(t){var n,r,a,i,o,s,u,p,l,d,y,m,f,b,T;return be.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.user,r=t.delegatee,a=t.delegationType,i=t.expiry,o=t.signature,s=t.governanceToken,u=[],p=this.getContractInstance(s),e.next=5,this.getNonce({user:n,governanceToken:s});case 5:return l=e.sent,d=Object(c.splitSignature)(o),y=d.v,m=d.r,f=d.s,e.next=9,this.getDelegateeAddress(r);case 9:return b=e.sent,T=this.generateTxCallback({rawTxMethod:function(){return p.populateTransaction.delegateByTypeBySig(b,a,l,i,y,m,f)},from:n}),u.push({tx:T,txType:ee.GOV_DELEGATION_ACTION,gas:this.generateTxPriceEstimation(u,T)}),e.abrupt("return",u);case 13:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),n.prepareDelegateSignature=function(){var e=y(be.mark((function e(t){var n,r,a,i,o,s,u;return be.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.delegatee,r=t.nonce,a=t.expiry,i=t.governanceTokenName,o=t.governanceToken,e.next=3,this.getDelegateeAddress(n);case 3:return s=e.sent,u={types:{EIP712Domain:[{name:"name",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"}],Delegate:[{name:"delegatee",type:"address"},{name:"nonce",type:"uint256"},{name:"expiry",type:"uint256"}]},primaryType:"Delegate",domain:{name:i,chainId:$[this.config.network],verifyingContract:o},message:{delegatee:s,nonce:r,expiry:a}},e.abrupt("return",JSON.stringify(u));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),n.prepareDelegateByTypeSignature=function(){var e=y(be.mark((function e(t){var n,r,a,i,o,s,u,c;return be.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.delegatee,r=t.type,a=t.nonce,i=t.expiry,o=t.governanceTokenName,s=t.governanceToken,e.next=3,this.getDelegateeAddress(n);case 3:return u=e.sent,c={types:{EIP712Domain:[{name:"name",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"}],DelegateByType:[{name:"delegatee",type:"address"},{name:"type",type:"uint256"},{name:"nonce",type:"uint256"},{name:"expiry",type:"uint256"}]},primaryType:"DelegateByType",domain:{name:o,chainId:$[this.config.network],verifyingContract:s},message:{delegatee:u,type:r,nonce:a,expiry:i}},e.abrupt("return",JSON.stringify(c));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),n.getDelegateeByType=function(){var e=y(be.mark((function e(t){var n,r,a,i;return be.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.delegator,r=t.delegationType,a=t.governanceToken,i=this.getContractInstance(a),e.abrupt("return",i.getDelegateeByType(n,r));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),n.getPowerCurrent=function(){var e=y(be.mark((function e(t){var n,r,a,i;return be.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.user,r=t.delegationType,a=t.governanceToken,i=this.getContractInstance(a),e.next=4,i.getPowerCurrent(n,r);case 4:return e.abrupt("return",e.sent.toString());case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),n.getPowerAtBlock=function(){var e=y(be.mark((function e(t){var n,r,a,i,o;return be.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.user,r=t.blockNumber,a=t.delegationType,i=t.governanceToken,o=this.getContractInstance(i),e.next=4,o.getPowerAtBlock(n,r,a);case 4:return e.abrupt("return",e.sent.toString());case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),n.getNonce=function(){var e=y(be.mark((function e(t){var n,r,a;return be.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.user,r=t.governanceToken,a=this.getContractInstance(r),e.next=4,a._nonces(n);case 4:return e.abrupt("return",e.sent.toString());case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),n.getDelegateeAddress=function(){var e=y(be.mark((function e(t){var n;return be.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!st(t)){e.next=7;break}return e.next=3,this.config.provider.resolveName(t);case 3:if(n=e.sent){e.next=6;break}throw new Error("Address "+t+" is not a valid ENS address");case 6:return e.abrupt("return",n);case 7:return e.abrupt("return",t);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t}(Pt);Object(i.b)([Ct,Object(i.e)(0,mt("user")),Object(i.e)(0,ft("delegatee")),Object(i.e)(0,mt("governanceToken")),Object(i.d)("design:type",Function),Object(i.d)("design:paramtypes",[Object]),Object(i.d)("design:returntype",Promise)],Jt.prototype,"delegate",null),Object(i.b)([Ct,Object(i.e)(0,mt("user")),Object(i.e)(0,ft("delegatee")),Object(i.e)(0,mt("governanceToken")),Object(i.d)("design:type",Function),Object(i.d)("design:paramtypes",[Object]),Object(i.d)("design:returntype",Promise)],Jt.prototype,"delegateByType",null),Object(i.b)([Ct,Object(i.e)(0,mt("user")),Object(i.e)(0,ft("delegatee")),Object(i.e)(0,mt("governanceToken")),Object(i.d)("design:type",Function),Object(i.d)("design:paramtypes",[Object]),Object(i.d)("design:returntype",Promise)],Jt.prototype,"delegateBySig",null),Object(i.b)([Ct,Object(i.e)(0,mt("user")),Object(i.e)(0,ft("delegatee")),Object(i.e)(0,mt("governanceToken")),Object(i.d)("design:type",Function),Object(i.d)("design:paramtypes",[Object]),Object(i.d)("design:returntype",Promise)],Jt.prototype,"delegateByTypeBySig",null),Object(i.b)([Ct,Object(i.e)(0,ft("delegatee")),Object(i.e)(0,mt("governanceToken")),Object(i.e)(0,Tt("nonce")),Object(i.d)("design:type",Function),Object(i.d)("design:paramtypes",[Object]),Object(i.d)("design:returntype",Promise)],Jt.prototype,"prepareDelegateSignature",null),Object(i.b)([Ct,Object(i.e)(0,ft("delegatee")),Object(i.e)(0,mt("governanceToken")),Object(i.e)(0,Tt("nonce")),Object(i.d)("design:type",Function),Object(i.d)("design:paramtypes",[Object]),Object(i.d)("design:returntype",Promise)],Jt.prototype,"prepareDelegateByTypeSignature",null),Object(i.b)([Ct,Object(i.e)(0,mt("delegator")),Object(i.e)(0,mt("governanceToken")),Object(i.d)("design:type",Function),Object(i.d)("design:paramtypes",[Object]),Object(i.d)("design:returntype",Promise)],Jt.prototype,"getDelegateeByType",null),Object(i.b)([Ct,Object(i.e)(0,mt("user")),Object(i.e)(0,mt("governanceToken")),Object(i.d)("design:type",Function),Object(i.d)("design:paramtypes",[Object]),Object(i.d)("design:returntype",Promise)],Jt.prototype,"getPowerCurrent",null),Object(i.b)([Ct,Object(i.e)(0,mt("user")),Object(i.e)(0,mt("governanceToken")),Object(i.e)(0,bt("blockNumber")),Object(i.d)("design:type",Function),Object(i.d)("design:paramtypes",[Object]),Object(i.d)("design:returntype",Promise)],Jt.prototype,"getPowerAtBlock",null),Object(i.b)([Ct,Object(i.e)(0,mt("user")),Object(i.e)(0,mt("governanceToken")),Object(i.d)("design:type",Function),Object(i.d)("design:paramtypes",[Object]),Object(i.d)("design:returntype",Promise)],Jt.prototype,"getNonce",null)}).call(this,n("HDXh").Buffer)}}]);